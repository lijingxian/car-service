(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-798f9bce"],{"07a9":function(e,t,n){"use strict";var a=n("a7c5"),o=n.n(a);o.a},2497:function(e,t,n){"use strict";var a=n("4360"),o=n("a18c");t["a"]=function(e,t){return function(n){var r=n.data;"100"===r.resultCode?e(r):"709"===r.resultCode?(a["a"].commit("updateUser",{shop:{}}),console.log("未登录: ",a["a"].getters.currentUser),o["a"].push("/login")):t(r)}}},2863:function(e,t,n){"use strict";var a=n("2497"),o=n("bc3a"),r=n.n(o),i=n("c596");t["a"]={query:function(e,t,n){r.a.get(i["g"].customerService.CSGroup,{params:e}).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},queryExcutiveList:function(e,t,n){r.a.get(i["g"].customerService.CSList,{params:e}).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},add:function(e,t,n){r.a.post(i["g"].customerService.CSGroup,e).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},update:function(e,t,n){r.a.put(i["g"].customerService.CSGroup,e).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))}}},"352f":function(e,t,n){"use strict";var a=n("71c3"),o=n.n(a);o.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var a=n("1d80"),o=n("5899"),r="["+o+"]",i=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),c=function(e){return function(t){var n=String(a(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},"5b8e":function(e,t,n){"use strict";var a=n("9678"),o=n.n(a);o.a},"641c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"customer-service__group-mgmt"},[a("biz-flex-table",{ref:"table",attrs:{operations:e.operations,tableData:e.tableData,loading:e.loading},on:{operate:e.operateHandler,"size-change":e.pageSizeChange,"current-change":e.currentPageChange,"selection-change":e.selectionChangeHandler,"filter-data-change":e.filterDataChangeHandler,"row-click":e.rowOperationClickHandler}},[a("el-table-column",{attrs:{prop:"name",label:"群组名称","min-width":"120"}}),a("el-table-column",{attrs:{prop:"groupOwner.name",label:"群主","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"customer-info"},[t.row.groupOwner.head?a("img",{attrs:{src:t.row.groupOwner.head}}):a("img",{attrs:{src:n("624d")}}),a("div",{staticClass:"wrapper"},[a("div",{staticClass:"title"},[e._v(e._s(t.row.groupOwner.name))]),a("div",{staticClass:"gender"},["0"===t.row.groupOwner.gender?a("i",{staticClass:"male iconfont biz-icon-i-web-m"}):e._e(),"1"===t.row.groupOwner.gender?a("i",{staticClass:"female iconfont biz-icon-i-web-f"}):e._e(),"2"===t.row.groupOwner.gender?a("i",{staticClass:"none iconfont biz-icon-i-web-bm"}):e._e(),a("span",[e._v(e._s(t.row.groupOwner.mobile))])])])])]}}])}),a("el-table-column",{attrs:{prop:"accountlist",label:"群组成员","min-width":"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"customer-info",staticStyle:{display:"flex","flex-wrap":"wrap"}},[e._l(t.row.members,(function(t,o){return a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.isService,expression:"item.isService==='1'"}],key:o,attrs:{type:"text",size:"mini"},on:{click:function(n){return e.showDetailHandler(n,t)}}},[t.head?a("img",{attrs:{src:t.head}}):a("img",{attrs:{src:n("624d")}}),a("div",{staticClass:"wrapper"},[a("div",{staticClass:"title"},[e._v(e._s(t.name))]),a("div",{staticClass:"gender"},["0"===t.gender?a("i",{staticClass:"male iconfont biz-icon-i-web-m"}):e._e(),"1"===t.gender?a("i",{staticClass:"female iconfont biz-icon-i-web-f"}):e._e(),"2"===t.gender?a("i",{staticClass:"none iconfont biz-icon-i-web-bm"}):e._e(),a("span",[e._v(e._s(t.mobile))])])])])})),e._l(t.row.members,(function(t,o){return a("div",{directives:[{name:"show",rawName:"v-show",value:"0"===t.isService,expression:"item.isService==='0'"}],key:o,staticClass:"customer-info",attrs:{type:"text",size:"mini"}},[t.head?a("img",{attrs:{src:t.head}}):a("img",{attrs:{src:n("624d")}}),a("div",{staticClass:"wrapper"},[a("div",{staticClass:"title"},[e._v(e._s(t.name))]),a("div",{staticClass:"gender"},["0"===t.gender?a("i",{staticClass:"male iconfont biz-icon-i-web-m"}):e._e(),"1"===t.gender?a("i",{staticClass:"female iconfont biz-icon-i-web-f"}):e._e(),"2"===t.gender?a("i",{staticClass:"none iconfont biz-icon-i-web-bm"}):e._e(),a("span",[e._v(e._s(t.mobile))])])])])}))],2)])]}}])}),a("el-table-column",{attrs:{prop:"tag",label:"操作",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return e.hasAuthDel?[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return e.deleteHandler(n,t.row)}}},[e._v(" 删除 ")])]:void 0}}],null,!0)})],1),a("div",{attrs:{slot:"float"},slot:"float"},[a("tag-class-popup",{attrs:{isService:e.isService,open:e.open,itemId:e.itemId},on:{close:function(t){e.open=!1},operationSuccess:e.operationSuccess}})],1)],1)},o=[],r=(n("4160"),n("caad"),n("d81d"),n("b0c0"),n("2532"),n("159b"),n("5530")),i=n("04d3"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("biz-popup-tabs",{attrs:{open:e.open},on:{close:e.close},model:{value:e.tabSelection,callback:function(t){e.tabSelection=t},expression:"tabSelection"}},[e.isService?e._e():n("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[n("tag-class-base-info",{attrs:{itemId:e.itemId},on:{operationSuccess:e.operationSuccess}})],1),e.isService?n("el-tab-pane",{attrs:{label:"客服基本信息",name:"0"}},[n("service-base-info",{attrs:{itemId:e.itemId},on:{created:e.operationSuccess}})],1):e._e()],1)},c=[],l=n("7132"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("biz-grid",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"tag-class-mgmt__base-info"},[n("biz-save-button",{attrs:{slot:"top",operations:e.operations},on:{operate:e.operateHandler},slot:"top"}),n("el-form",{ref:"form",attrs:{size:"small","label-width":"130px",model:e.formModel,rules:e.rules,"inline-message":!0}},[n("el-form-item",{attrs:{label:"群组名称",prop:"name"}},[n("el-input",{model:{value:e.formModel.name,callback:function(t){e.$set(e.formModel,"name",t)},expression:"formModel.name"}})],1),n("el-form-item",{attrs:{label:"当前群组已有成员"}},[n("el-checkbox-group",{model:{value:e.formModel.accountIds,callback:function(t){e.$set(e.formModel,"accountIds",t)},expression:"formModel.accountIds"}},e._l(e.excutiveList,(function(t){return n("el-checkbox-button",{directives:[{name:"show",rawName:"v-show",value:e.formModel.accountIds.indexOf(t.id)>=0,expression:"formModel.accountIds.indexOf(item.id) >= 0"}],key:t.id,attrs:{label:t.id}},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.id===e.showId,expression:"item.id===showId"}],staticClass:"el-icon-circle-close",staticStyle:{position:"absolute",top:"0",right:"0"},on:{mouseout:function(t){e.showId=""}}}),n("div",{staticClass:"customer-info"},[t.head?n("img",{attrs:{src:t.head},on:{mouseover:function(n){return e.hoverHandle(t)}}}):n("img",{attrs:{src:e.defaultAvatar},on:{mouseover:function(n){return e.hoverHandle(t)}}}),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"title"},[e._v(e._s(t.name))]),n("div",{staticClass:"gender"},[n("span",[e._v(e._s(t.roleDatas&&t.roleDatas.length>0?t.roleDatas[0].name:""))])])])])])})),1)],1),n("el-form-item",{attrs:{label:"可添加成员"}},[n("el-checkbox-group",{model:{value:e.formModel.accountIds,callback:function(t){e.$set(e.formModel,"accountIds",t)},expression:"formModel.accountIds"}},e._l(e.excutiveList,(function(t){return n("el-checkbox-button",{directives:[{name:"show",rawName:"v-show",value:e.formModel.accountIds.indexOf(t.id)<0,expression:"formModel.accountIds.indexOf(item.id) < 0"}],key:t.id,attrs:{label:t.id}},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.id===e.showId,expression:"item.id===showId"}],staticClass:"el-icon-circle-plus",staticStyle:{position:"absolute",top:"0",right:"0"},on:{mouseout:function(t){e.showId=""}}}),n("div",{staticClass:"customer-info"},[t.head?n("img",{attrs:{src:t.head},on:{mouseover:function(n){return e.hoverHandle(t)}}}):n("img",{attrs:{src:e.defaultAvatar},on:{mouseover:function(n){return e.hoverHandle(t)}}}),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"title"},[e._v(e._s(t.name))]),n("div",{staticClass:"gender"},[n("span",[e._v(e._s(t.roleDatas&&t.roleDatas.length>0?t.roleDatas[0].name:""))])])])])])})),1)],1)],1)],1)},d=[],m=(n("99af"),n("f36f")),f=n("8330"),p=n("624d"),h=n.n(p),g=n("2f62"),b=n("2863"),v={name:"GroupBaseInfo",components:{BizSaveButton:f["a"],BizGrid:m["a"]},data:function(){return{showId:"",defaultAvatar:h.a,loading:!1,pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},operations:[{label:"保存",name:"save",type:"primary",auth:["admin:group.edit"]}],rules:{name:[{required:!0,message:"请输入群组名称",trigger:"blur"},{max:20,message:"分组名称不超过20字",trigger:"blur"}]},formModel:this.getDefaultModel(),excutiveList:[]}},props:{itemId:{type:Object,default:function(){return{id:""}}}},methods:Object(r["a"])(Object(r["a"])({},Object(g["c"])(["getUser"])),{},{hoverHandle:function(e){console.log(12),this.showId=e.id},query:function(){var e=this;this.loading=!0,b["a"].query({isInit:this.itemId.id?"0":"1",id:this.itemId.id},(function(t){var n=Object.assign(e.getDefaultModel(),t.data);e.formModel=n,e.excutiveList=e.formModel.members.concat(e.formModel.otherMembers),e.formModel.members.map((function(t){e.formModel.accountIds.push(t.id)})),e.$refs.form.resetFields(),e.loading=!1}),(function(t){console.log(t),console.log("code错误"),e.loading=!1}))},getSaveParams:function(){var e=[];return this.formModel.accountIds.forEach((function(t){e.push({id:t})})),{id:this.formModel.id,name:this.formModel.name,members:e}},resetModel:function(){this.formModel=this.getDefaultModel()},getDefaultModel:function(){return{accountIds:[]}},operateHandler:function(e){this[e]()},handleAddressChange:function(e){this.formModel.address=e},handleUploadSuccess:function(e){this.formModel.cover=e},handleAreaChanged:function(e){this.formModel.area.id=e},save:function(){var e=this;this.$refs.form.validate((function(t,n){if(!t)return!1;e.formModel.id?b["a"].update(e.getSaveParams(),(function(t){e.$message.success("保存成功"),e.$emit("operationSuccess")}),(function(t){e.$message.warning(t.errorMessage)})):b["a"].add(e.getSaveParams(),(function(t){e.$message.success("保存成功"),e.$emit("operationSuccess")}),(function(t){e.$message.warning(t.errorMessage)}))}))}}),watch:{itemId:function(e,t){e&&e.id?this.query():(this.resetModel(),this.$refs.form.resetFields())}},created:function(){this.query()}},w=v,S=(n("cc2f"),n("2877")),y=Object(S["a"])(w,u,d,!1,null,null,null),I=y.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("biz-grid",{staticClass:"customer-service-base-info"},[n("biz-save-button",{attrs:{slot:"top",operations:e.operations},on:{operate:e.operate},slot:"top"}),n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"125px",size:"small","inline-message":!0}},[n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),""===e.itemId.id?n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),""===e.itemId.id?n("el-form-item",{attrs:{label:"确认密码",prop:"checkpass"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请确认密码"},model:{value:e.form.checkpass,callback:function(t){e.$set(e.form,"checkpass",t)},expression:"form.checkpass"}})],1):e._e(),n("el-form-item",{attrs:{label:"姓名",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[n("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),n("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[n("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),n("el-form-item",{attrs:{label:"头像设置",prop:"head"}},[n("BizAvatarUploaderNew",{model:{value:e.form.head,callback:function(t){e.$set(e.form,"head",t)},expression:"form.head"}})],1),n("el-form-item",{attrs:{label:"角色设置",prop:"level"}},[n("el-radio",{attrs:{label:"0"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},[e._v("客服")]),n("el-radio",{attrs:{label:"1"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},[e._v("主管")])],1),n("el-collapse",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-collapse-item",{attrs:{name:"1"}},[n("template",{slot:"title"},[n("span",{staticStyle:{"margin-left":"38px"}},[e._v("群组设置")])]),n("el-form-item",[n("el-checkbox-group",{model:{value:e.selectedGroup,callback:function(t){e.selectedGroup=t},expression:"selectedGroup"}},e._l(e.groupList,(function(t){return n("el-checkbox",{key:t.index,attrs:{label:t.id}},[e._v(e._s(t.name))])})),1)],1)],2)],1),n("el-form-item",{staticClass:"recept-number",attrs:{label:"接待数",prop:"receptnumber"}},[n("el-input",{attrs:{type:"number",max:1e3,min:0},model:{value:e.form.receptnumber,callback:function(t){e.$set(e.form,"receptnumber",t)},expression:"form.receptnumber"}})],1)],1)],1)},C=[],x=(n("a9e3"),n("d3b7"),n("25f0"),n("c17f")),k=n("ef20"),O=n("1ab1"),$={name:"CustomerServiceBaseInfo",components:{BizGrid:m["a"],BizSaveButton:f["a"],BizAvatarUploaderNew:x["b"]},props:{itemId:{type:Object,default:function(){return{id:""}}}},data:function(){var e=this,t=function(t,n,a){""===n?a(new Error("请输入密码")):(""!==e.form.checkpass&&e.$refs.form.validateField("checkpass"),a())},n=function(t,n,a){""===n?a(new Error("请再次输入密码")):n!==e.form.password?a(new Error("两次输入密码不一致!")):a()},a=function(e,t,n){parseInt(t)>1e3?n(new Error("最大接待人数不能大于1000")):n()};return{rules:{username:[{required:!0,message:"账号不能为空",trigger:"blur"},{pattern:/^[0-9a-zA-Z]+$/,message:"用户名只能为数字或字母",trigger:"blur"},{min:4,max:20,message:"长度在4-20位",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"},{max:20,message:"长度不能大于20位",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{max:20,message:"长度不能大于20位",trigger:"blur"}],receptnumber:[{required:!0,message:"请输入最大接待人数",trigger:"blur"},{pattern:/^\d+$/,message:"请输入整数",trigger:"blur"},{validator:a,trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号码",trigger:"blur"},{len:11,message:"手机号位数错误",trigger:"blur"},{pattern:/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/,message:"手机号格式错误",trigger:"blur"}],password:[{validator:t,trigger:"blur"},{required:!0,min:6,max:16,message:"长度在6-16个字符",trigger:"blur"}],checkpass:[{required:!0,validator:n,trigger:"blur"}],level:[{required:!0,message:"您还未选择角色",trigger:"change"}]},id:"",activeName:"1",groupList:[],selectedGroup:[],operations:[{label:"保存",name:"save",type:"primary",auth:["admin:group.edit"]}],form:this.setOriginFormData(),loading:!1}},methods:{operate:function(e){this[e]()},setOriginFormData:function(){return{csGroupList:[],username:"",password:"",checkpass:"",name:"",nickname:"",mobile:"",receptnumber:0,head:"",level:"0"}},showMessage:function(e,t){this.$notify({showClose:!0,message:e,type:t})},clear:function(){this.selectedGroup=[],this.form=this.setOriginFormData(),this.$refs.form.resetFields()},refresh:function(){var e=this;this.clear();var t={id:this.itemId.id,shopId:window.top.SHOP_ID||""};this.loading=!0,O["a"].get("admin/cs/csAccountByAdmin.jhtml",t).then((function(t){e.loading=!1,e.form=t.data,e.form.receptnumber=Number(t.data.receptnumber),e.selectedGroup=t.data.csGroupList.map((function(e){return e.id}))}))},queryGroup:function(){var e=this,t={pageSize:200,pageNumber:1,shopId:window.top.SHOP_ID||""};k["a"].queryGroup(t,(function(t){e.groupList=t.dataList}),(function(e){console.log("ERR_QUERY_GROUP: ",e)}))},save:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return!1;e.submit()}))},submit:function(){this.itemId.id?this.update():this.create()},create:function(){var e=this;this.form.receptnumber.toString();var t=Object.assign(this.form,{csGroupList:this.csGroupList});this.loading=!0,k["a"].create(t,(function(t){e.loading=!1,e.$message.success("操作成功"),e.$emit("created")}),(function(t){e.loading=!1,e.$message.warning(t.errorMessage),console.log("ERR_CREATE: ",t)}))},update:function(){var e=this;this.form.receptnumber.toString();var t=Object.assign({id:this.itemId.id},this.form,{csGroupList:this.csGroupList});this.loading=!0,k["a"].update(t,(function(t){e.loading=!1,e.$message.success("操作成功"),e.$emit("created")}),(function(t){e.loading=!1,e.$message.warning(t.errorMessage),console.log("ERR_UPDATE: ",t)}))},handleUploadSuccess:function(e){this.form.head=e}},computed:{csGroupList:function(){return this.selectedGroup.map((function(e){return{id:e}}))}},mounted:function(){this.queryGroup(),this.refresh()},watch:{itemId:function(){this.itemId.id?this.refresh():this.clear()}}},M=$,z=(n("07a9"),Object(S["a"])(M,_,C,!1,null,null,null)),j=z.exports,N={name:"TagClassPopup",components:{BizPopupTabs:l["a"],TagClassBaseInfo:I,ServiceBaseInfo:j},props:{isService:{type:Boolean,default:function(){return!1}},open:{type:Boolean},itemId:{type:Object,default:function(){return{id:""}}}},data:function(){return{tabSelection:"0"}},methods:{close:function(e){this.$emit("close",e)},operationSuccess:function(e){this.$emit("operationSuccess",e)}},watch:{open:function(e){var t=this;e&&setTimeout((function(){t.tabSelection="0"}),500)},itemId:function(e,t){console.log("itemId: ",e)}}},B=N,E=Object(S["a"])(B,s,c,!1,null,null,null),q=E.exports,G=n("2497"),D=n("bc3a"),A=n.n(D),L=n("c596"),P={query:function(e,t,n){A.a.get(L["g"].customerService.CSGroupList,{params:e}).then(Object(G["a"])(t,n)).catch((function(e){console.error(e)}))},delete:function(e,t,n){A.a.delete(L["g"].customerService.CSGroup,{data:e}).then(Object(G["a"])(t,n)).catch((function(e){console.error(e)}))}},H={name:"TagClassMgmt",components:{BizFlexTable:i["c"],TagClassPopup:q},props:{},data:function(){return{isService:!1,itemId:{id:""},selections:[],open:!1,loading:!1,tableData:[],operations:[{label:"新增",name:"add",type:"primary",auth:["admin:group.add"]},{label:"删除",name:"del",type:"",disabled:!0,auth:["admin:group.delete"]}],filters:[{type:"input",label:"",placeholder:"请输入分类名称",name:"searchValue",value:""}],pagination:{pageSize:20,currentPage:1,pageSizes:[10,20,50,100],total:0}}},computed:Object(r["a"])(Object(r["a"])({},Object(g["c"])("Authority",["currentAuth"])),{},{hasAuthDel:function(){return this.currentAuth.includes("admin:group.delete")}}),methods:{deleteItem:function(e){var t=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.loading=!0,P.delete({ids:e},(function(e){t.loading=!1,t.$message.success("删除成功"),t.query()}),(function(e){t.$message.warning(e.errorMessage),t.loading=!1}))}))},operationSuccess:function(){this.open=!1,this.query()},operateHandler:function(e){this[e]()},pageSizeChange:function(e){this.pagination.pageSize=e,this.pagination.currentPage=1,this.query()},currentPageChange:function(e){this.pagination.currentPage=e,this.query()},rowOperationClickHandler:function(e,t,n){this.isService=!1,this.itemId={id:String(e.id)},this.open=!0},selectionChangeHandler:function(e){this.selections=e,this.operations.map((function(t){"del"===t.name&&(t.disabled=!0),e.length>0&&"del"===t.name&&(t.disabled=!1)}))},filterDataChangeHandler:function(){this.query()},deleteHandler:function(e,t){e.stopPropagation(),this.deleteItem([t.id])},showDetailHandler:function(e,t){e.stopPropagation(),this.isService=!0,this.itemId={id:String(t.id)},this.open=!0,console.log("person id:",t.id,t.nickname)},getQueryParams:function(){return{shopId:window.top.SHOP_ID||""}},query:function(){var e=this;this.loading=!0,P.query(this.getQueryParams(),(function(t){e.tableData=t.dataList,e.loading=!1}),(function(t){console.log(t),console.log("code错误"),e.loading=!1}))},add:function(){this.open=!0,this.itemId={id:""}},del:function(){if(this.selections&&this.selections.length>0){var e=[];this.selections.forEach((function(t){e.push(t.id)})),this.deleteItem(e)}else this.$message("请选择一个分类")}},mounted:function(){this.$message({showClose:!0,message:"对客服群组进行增删改",type:"info"})},created:function(){this.query()}},T=H,F=(n("352f"),Object(S["a"])(T,a,o,!1,null,null,null));t["default"]=F.exports},7132:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"biz-fade-t"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"biz-popup",on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[n("transition",{attrs:{name:"biz-fade-t-right"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"popup-content",style:e.contentStyle},[e._t("default")],2)])],1)])},o=[],r={name:"BizPopup",props:{open:{type:Boolean,default:function(){return!1}},contentStyle:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{close:function(){this.$emit("close")}}},i=r,s=(n("5b8e"),n("2877")),c=Object(s["a"])(i,a,o,!1,null,null,null),l=c.exports,u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"biz-popup-tabs"},[n("biz-popup",{attrs:{open:e.open,contentStyle:e.contentStyle},on:{close:e.close}},[n("el-tabs",{attrs:{type:"border-card",value:e.value},on:{"tab-click":e.tabClick}},[e._t("default")],2)],1)],1)},d=[],m=(n("b0c0"),{name:"BizPopupTabs",data:function(){return{}},props:{open:{type:Boolean,default:!1},value:{type:String,required:!0},contentStyle:{type:Object,default:function(){return{}}}},components:{BizPopup:l},methods:{close:function(){var e=this;this.$confirm("是否保存当前页面?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$emit("close")}))},tabClick:function(e){this.$emit("input",e.name)}}}),f=m,p=(n("d4c2"),Object(s["a"])(f,u,d,!1,null,null,null)),h=p.exports;n.d(t,"a",(function(){return h}))},"71c3":function(e,t,n){},"789f":function(e,t,n){},9678:function(e,t,n){},a7c5:function(e,t,n){},a9e3:function(e,t,n){"use strict";var a=n("83ab"),o=n("da84"),r=n("94ca"),i=n("6eeb"),s=n("5135"),c=n("c6b6"),l=n("7156"),u=n("c04e"),d=n("d039"),m=n("7c73"),f=n("241c").f,p=n("06cf").f,h=n("9bf2").f,g=n("58a8").trim,b="Number",v=o[b],w=v.prototype,S=c(m(w))==b,y=function(e){var t,n,a,o,r,i,s,c,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=g(l),t=l.charCodeAt(0),43===t||45===t){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+l}for(r=l.slice(2),i=r.length,s=0;s<i;s++)if(c=r.charCodeAt(s),c<48||c>o)return NaN;return parseInt(r,a)}return+l};if(r(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var I,_=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof _&&(S?d((function(){w.valueOf.call(n)})):c(n)!=b)?l(new v(y(t)),n,_):y(t)},C=a?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;C.length>x;x++)s(v,I=C[x])&&!s(_,I)&&h(_,I,p(v,I));_.prototype=w,w.constructor=_,i(o,b,_)}},cc2f:function(e,t,n){"use strict";var a=n("789f"),o=n.n(a);o.a},d4c2:function(e,t,n){"use strict";var a=n("e725"),o=n.n(a);o.a},e725:function(e,t,n){},ef20:function(e,t,n){"use strict";var a=n("2497"),o=n("bc3a"),r=n.n(o),i=n("c596");t["a"]={queryList:function(e,t,n){r.a.get(i["g"].customerService.CSList,{params:e}).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},queryGroup:function(e,t,n){r.a.get(i["g"].customerService.CSGroupList,{params:e}).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},query:function(e,t,n){r.a.get(i["g"].customerService.CSQuery,{params:e}).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},update:function(e,t,n){r.a.put(i["g"].customerService.CSQuery,e).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},create:function(e,t,n){r.a.post(i["g"].customerService.CSQuery,e).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},delete:function(e,t,n){r.a.delete(i["g"].customerService.CSQuery,{data:e}).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},getManhour:function(e,t,n){r.a.get(i["g"].customerService.manhour,{params:e}).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},updateManhour:function(e,t,n){r.a.post(i["g"].customerService.manhour,e).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},createBlack:function(e,t,n){r.a.post(i["g"].customerService.CreateBlack,e).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},passBlack:function(e,t,n){r.a.post(i["g"].customerService.PassBlack,e).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},getBlackList:function(e,t,n){r.a.get(i["g"].customerService.BlackList,{params:e}).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))},recoverBlack:function(e,t,n){r.a.post(i["g"].customerService.RecoverBlack,e).then(Object(a["a"])(t,n)).catch((function(e){console.error(e)}))}}}}]);