(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a03b98d"],{1997:function(e,t,i){},2119:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"biz-avatar-uploader-multi"},[i("div",{staticClass:"el-upload-list el-upload-list--picture-card"},[e._l(e.value,(function(t){return i("div",{key:t.index,staticClass:"el-upload-list__item is-success",attrs:{tabindex:"0"}},[i("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t,alt:""}}),i("span",{staticClass:"el-upload-list__item-actions"},[i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(i){return e.handlePictureCardPreview(t)}}},[i("i",{staticClass:"el-icon-zoom-in"})]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.isShowDelete,expression:"isShowDelete"}],staticClass:"el-upload-list__item-delete",on:{click:function(i){return e.handleRemove(t)}}},[i("i",{staticClass:"el-icon-delete"})])])])})),e.showUploader?i("el-upload",{ref:"upload",class:e.disabled?"avatar-uploader-disabled":"avatar-uploader",style:e.avatarStyle,attrs:{multiple:"","show-file-list":!1,accept:"image/*",limit:Number(e.limit),"file-list":e.fileList,data:e.fileData,"on-success":e.handleSuccess,"on-exceed":e.handleExceed,name:"file",action:"/admin/file/uploads.jhtml",disabled:e.disabled}},[i("i",{staticClass:"el-icon-plus avatar-uploader-icon",style:e.plusStyle})]):e._e()],2),i("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},n=[],l=(i("99af"),i("d81d"),i("a434"),i("ac1f"),i("1276"),{name:"ImgUploader",props:{value:{type:Array,default:function(){return[]}},imageForm:{type:Array,default:function(){return[]}},showUploader:{type:Boolean,default:function(){return!0}},size:{type:Object,default:function(){return{width:100,height:100}}},limit:{default:"9"},disabled:{type:Boolean,default:function(){return!1}},isShowDelete:{type:Boolean,default:function(){return!0}}},data:function(){return{fileData:{type:"0"},fileList:[],dialogVisible:!1,dialogImageUrl:""}},methods:{handleSuccess:function(e){var t=this.value.concat(e.fis[0].url);this.$emit("input",t)},handleExceed:function(e,t){this.$message.warning("只能上传".concat(this.limit,"张图片"))},handleRemove:function(e){var t=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.removePic(e)}))},removePic:function(e){for(var t=this.value,i=0;i<t.length;i++)t[i]===e&&t.splice(i,1);this.$emit("input",t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e,this.dialogVisible=!0}},computed:{plusStyle:function(){return{"line-height":this.size.height+"px"}},avatarStyle:function(){return{height:this.size.height+"px",width:this.size.width+"px"}}},watch:{value:function(e,t){console.log("value: ",this.value),this.fileList=e.map((function(e){return{name:e.split("/")[e.split("/").length-1],url:e}}))}},components:{}}),s=l,r=(i("d74a"),i("2877")),o=Object(r["a"])(s,a,n,!1,null,null,null);t["a"]=o.exports},"21c5":function(e,t,i){},3386:function(e,t,i){"use strict";var a=i("1997"),n=i.n(a);n.a},"88b33":function(e,t,i){},be16:function(e,t,i){"use strict";var a=i("88b33"),n=i.n(a);n.a},c17f:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"biz-avatar-uploader"},[i("el-upload",{ref:"upload",class:"0"===e.fileData.type?"avatar-uploader":"",style:"0"===e.fileData.type?e.avatarStyle:"",attrs:{"show-file-list":!1,accept:"image/*",name:"file","on-success":e.handleSuccess,action:"/admin/file/uploads.jhtml",data:e.fileData,disabled:e.disabled}},["0"===e.fileData.type?i("div",{staticStyle:{height:"100%"}},[e.value?i("div",{staticClass:"avatar"},[i("img",{attrs:{src:e.value}})]):i("i",{staticClass:"el-icon-plus avatar-uploader-icon",style:e.plusStyle}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],staticClass:"operate",on:{click:function(t){return t.stopPropagation(),e.doThis(t)}}},[i("i",{staticClass:"el-icon-zoom-in",on:{click:function(t){return t.stopPropagation(),e.zoomIn(t)}}}),e.showHandler?i("i",{staticClass:"el-icon-plus",on:{click:e.upload}}):e._e(),e.showHandler&&e.showDelete?i("i",{staticClass:"el-icon-delete",on:{click:e.remove}}):e._e()])]):e._e(),"3"===e.fileData.type?i("div",{staticClass:"avatar"},[i("div",{staticClass:"name",attrs:{title:e.name||e.value.substring(e.value.lastIndexOf("/")+1,e.value.length)}},[e._v(e._s(e.name||e.value.substring(e.value.lastIndexOf("/")+1,e.value.length)))]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.name&&!e.value,expression:"!name && !value"}],attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),i("i",{directives:[{name:"show",rawName:"v-show",value:e.name||e.value,expression:"name || value"}],staticClass:"el-icon-delete",on:{click:function(t){return t.stopPropagation(),e.removeHandler(t)}}})],1):e._e()]),i("el-dialog",{staticClass:"avatar-preview-dialog",attrs:{"append-to-body":!0,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"review"},[i("img",{attrs:{src:e.value,alt:""}})])])],1)},n=[],l=(i("b0c0"),{name:"BizAvatarUploaderNew",data:function(){return{dialogVisible:!1,fileData:{type:"0"},avatar:"",name:""}},props:{size:{type:Object,default:function(){return{width:120,height:120}}},value:{type:String,default:""},showHandler:{type:Boolean,default:function(){return!0}},showDelete:{type:Boolean,default:function(){return!0}},disabled:{type:Boolean,default:function(){return!1}},fileType:{type:String,default:"0"}},computed:{plusStyle:function(){return{"line-height":this.size.height+"px"}},avatarStyle:function(){return{height:this.size.height+"px",width:this.size.width+"px"}}},created:function(){this.fileData.type=this.fileType},methods:{handleSuccess:function(e){this.$emit("input",e.fis[0].url),this.name=e.fis?e.fis[0].name:"",this.$emit("uploadSuccess",e.fis[0].url)},zoomIn:function(){this.dialogVisible=!0},doThis:function(){},upload:function(){this.$refs.upload.$refs["upload-inner"].$refs.input.click()},remove:function(){this.$emit("input","")},removeHandler:function(){this.name="",this.$emit("input","")}}}),s=l,r=(i("3386"),i("2877")),o=Object(r["a"])(s,a,n,!1,null,null,null),u=o.exports,c=i("2119"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"biz-avatar-uploader-recommend"},[i("div",{staticClass:"el-upload-list el-upload-list--picture-card"},[e._l(e.value,(function(t,a){return i("div",{key:a,staticClass:"el-upload-list__item is-success",attrs:{tabindex:"0"}},[i("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t,alt:""}}),i("span",{staticClass:"el-upload-list__item-actions"},[i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(i){return e.handlePictureCardPreview(t)}}},[i("i",{staticClass:"el-icon-zoom-in"})]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.isShowDelete,expression:"isShowDelete"}],staticClass:"el-upload-list__item-delete",on:{click:function(i){return e.handleRemove(t)}}},[i("i",{staticClass:"el-icon-delete"})])])])})),e.showUploader?i("el-upload",{ref:"upload",class:e.disabled?"avatar-uploader-disabled":"avatar-uploader",style:e.avatarStyle,attrs:{multiple:"","show-file-list":!1,accept:"image/*",limit:Number(e.limit),"file-list":e.fileList,data:e.fileData,"on-success":e.handleSuccess,"on-exceed":e.handleExceed,name:"file",action:"/admin/file/uploads.jhtml","before-upload":e.beforeAvatarUpload,disabled:e.disabled},on:{handleImageHL:e.handleImageHL,handleImageBDL:e.handleImageBDL,handleImageBDS:e.handleImageBDS}},[i("i",{staticClass:"el-icon-plus avatar-uploader-icon",style:e.plusStyle})]):e._e()],2),i("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},h=[],f=(i("99af"),i("d81d"),i("a434"),i("d3b7"),i("ac1f"),i("1276"),i("96cf"),i("1da1")),m={name:"ImgUploader",props:{value:{type:Array,default:function(){return[]}},imageForm:{type:Array,default:function(){return[]}},showUploader:{type:Boolean,default:function(){return!0}},size:{type:Object,default:function(){return{width:100,height:100}}},limit:{default:"9"},disabled:{type:Boolean,default:function(){return!1}},isShowDelete:{type:Boolean,default:function(){return!0}}},data:function(){return{fileData:{type:"0"},fileList:[],dialogVisible:!1,dialogImageUrl:""}},methods:{handleSuccess:function(e){var t=this.value.concat(e.fis[0].url);this.$emit("input",t)},beforeAvatarUpload:function(e){var t=this,i=/^image\/(.*)$/.test(e.type);if(!i)return this.$message.error("请选择符合图片格式的文件上传!"),!1;for(var a=!0,n=!0,l=!0,s=0;s<this.imageForm.length;s++){if("8"===this.imageForm[s].type&&"1"===this.imageForm[s].isChecked&&!a)return this.$message.warning("上传图片大小不能超过 500K!"),!1;if("9"===this.imageForm[s].type&&"0"===this.imageForm[s].setting.showType&&"1"===this.imageForm[s].isChecked&&!(e.size/1024<=500))return this.$message.warning("上传图片大小不能超过 500K!"),!1;if("9"===this.imageForm[s].type&&("1"===this.imageForm[s].setting.showType||"2"===this.imageForm[s].setting.showType)&&"1"===this.imageForm[s].isChecked&&!(e.size/1024<=200))return this.$message.warning("上传图片大小不能超过 200K!"),!1;if("10"===this.imageForm[s].type&&"1"===this.imageForm[s].isChecked&&!(e.size/1024/1024<2))return this.$message.warning("上传图片大小不能超过 2M!"),!1}return this.getImg(e).then((function(e){for(var i=0;i<t.imageForm.length;i++)"8"===t.imageForm[i].type&&t.handleImageHL(e),"9"===t.imageForm[i].type&&t.handleImageBDL(e),"10"===t.imageForm[i].type&&t.handleImageBDS(e)})).catch((function(e){return console.log(e+"res"),e})),i&&a&&n&&l},getImgInfo:function(e){return new Promise((function(t,i){var a=new FileReader;a.onload=function(e){var i=e.target.result,a=new Image;a.src=i,a.onload=function(){t({width:a.width,height:a.height})}},a.readAsDataURL(e)}))},getImg:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.getImgInfo(e);case 2:return a=i.sent,i.abrupt("return",a);case 4:case"end":return i.stop()}}),i)})))()},handleExceed:function(e,t){this.$message.warning("只能上传".concat(this.limit,"张图片"))},handleRemove:function(e){var t=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.removePic(e)}))},removePic:function(e){for(var t=this.value,i=0;i<t.length;i++)t[i]===e&&t.splice(i,1);this.$emit("input",t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e,this.dialogVisible=!0},handleImageHL:function(e){this.$emit("handleImageHL",e)},handleImageBDL:function(e){this.$emit("handleImageBDL",e)},handleImageBDS:function(e){this.$emit("handleImageBDS",e)}},computed:{plusStyle:function(){return{"line-height":this.size.height+"px"}},avatarStyle:function(){return{height:this.size.height+"px",width:this.size.width+"px"}}},watch:{value:function(e,t){console.log("value: ",this.value),this.fileList=e.map((function(e){return{name:e.split("/")[e.split("/").length-1],url:e}}))}},components:{}},p=m,g=(i("be16"),Object(r["a"])(p,d,h,!1,null,null,null)),v=g.exports,w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"biz-file-uploader"},[i("el-upload",{attrs:{"show-file-list":!0,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"on-error":e.handleError,data:e.data,"file-list":e.fileList,limit:1,name:"file",action:"/admin/file/uploads.jhtml"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)},y=[],b=(i("4160"),i("159b"),{name:"FileUploader",props:{value:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){return{type:"3"}}},fileList:{type:Array,default:function(){return[]}}},data:function(){return{innerFileList:[],fileMap:{},uploadedFileList:[]}},computed:{},methods:{handleRemove:function(e,t){var i=this.getFileIndex(e);this.innerFileList.splice(i,1),this.$emit("input",this.toFileUrl(this.innerFileList))},handleSuccess:function(e,t,i){e.fis&&e.fis[0]?(this.add(e.fis[0].url,t),this.$emit("fileListChange",i)):(i.pop(),this.$message.warning("文件类型错误"))},handleError:function(e,t,i){e?this.$message.warning(e):this.$message.warning("发生错误")},add:function(e,t){this.innerFileList.push({uid:t.uid,url:e}),this.$emit("input",this.toFileUrl(this.innerFileList))},getFileIndex:function(e){var t=-1;return this.innerFileList.forEach((function(i,a){i.url===e.url&&(t=a)})),t},toFileUrl:function(e){var t=[];return this.innerFileList.forEach((function(e){t.push(e.url)})),t}},watch:{value:function(e){var t=[];e.forEach((function(e){t.push({url:e})})),this.innerFileList=t}}}),C=b,_=Object(r["a"])(C,w,y,!1,null,null,null),x=_.exports;i.d(t,"d",(function(){return x})),i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return c["a"]})),i.d(t,"c",(function(){return v}))},d74a:function(e,t,i){"use strict";var a=i("21c5"),n=i.n(a);n.a}}]);