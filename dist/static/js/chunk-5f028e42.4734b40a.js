(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f028e42"],{"04d3":function(e,t,n){"use strict";var a=n("7558"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"biz-table"},[n("biz-header",{attrs:{operations:e.operations,filters:e.filters,views:e.views},on:{operate:e.operate,filterDataChange:e.filterDataChange,onSwitch:e.onViewSwitch}}),n("biz-table-body",{ref:"table",attrs:{"span-method":e.spanMethod,height:e.height,tableData:e.tableData,pagination:e.pagination,rowClassName:e.rowClassNameHandle,rowKeys:e.rowKeys,expands:e.expands,expandChange:e.expandChangeHandle},on:{handleSelectionChange:e.handleSelectionChange,rowClick:e.rowClick,handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange,filterChange:e.filterChange,"sort-change":e.handleSortChange}},[e._t("default")],2)],1)},o=[],r=n("84fd"),l=n("815c"),c={name:"BizTable",props:{operations:{type:Array,default:function(){return[]}},filters:{type:Array,default:function(){return[]}},pagination:{type:Object,required:!1},tableData:{type:Array,default:function(){return[]}},views:{type:Array,default:function(){return[]}},spanMethod:Function,rowClassName:{type:Function,default:function(){return null}},rowKeys:{type:Function,default:function(){return null}},expands:{type:Array,default:function(){return null}},expandChange:{type:Function,default:function(){return null}}},data:function(){return{height:"400"}},components:{BizHeader:r["a"],BizTableBody:l["a"]},created:function(){this.getViewportHeight(this.height)},methods:{expandChangeHandle:function(e,t){return this.expandChange(e,t)},rowClassNameHandle:function(e){var t=e.row,n=e.index;return this.rowClassName({row:t,index:n})},handleSortChange:function(e){this.$emit("sort-change",e)},operate:function(e){this.$emit("operate",e)},filterDataChange:function(e){this.$emit("filterDataChange",e),this.$emit("filter-data-change",e)},handleSelectionChange:function(e){this.$emit("handleSelectionChange",e),this.$emit("selection-change",e)},rowClick:function(e,t,n){this.$emit("rowClick",e),this.$emit("row-click",e,t,n)},handleSizeChange:function(e){this.$emit("handleSizeChange",e),this.$emit("size-change",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e),this.$emit("current-change",e)},getViewportHeight:function(e){if("400"===e){var t=document.documentElement.clientHeight||window.innerHeight;this.height=String(t-75-100)}else this.height=e},doLayout:function(){this.$refs.table.doLayout()},filterChange:function(e){this.$emit("filterChange",e)},onViewSwitch:function(){this.$emit("onSwitch",name)}}},s=c,h=(n("e715"),n("2877")),u=Object(h["a"])(s,i,o,!1,null,null,null),f=u.exports,d=n("5c40"),p=(n("4a8c"),n("8c35")),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("biz-grid",{staticClass:"biz-flex-table"},[e.operations&&e.operations.length>0||e.filters&&e.filters.length>0?n("biz-header",{attrs:{slot:"top",operations:e.operations,filters:e.filters,tags:e.tags,views:e.views},on:{operate:e.handleOperate,"input-option-change":e.handleInputOptionChange,"filter-data-change":e.handleFilterDataChange,"on-switch":e.handleSwitch,"cascader-change":e.handleCascaderChange,onSwitch:e.onViewSwitch,"active-item-change":e.activeItemChange},slot:"top"},[e._t("operation",null,{slot:"operation"})],2):e._e(),e.showTable?n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{size:"small",height:e.height,data:e.tableData,"show-summary":e.showSummary,"highlight-current-row":"","tooltip-effect":"dark","span-method":e.spanMethod,"row-class-name":e.rowClassNameHandle,"row-key":e.rowKeys,"expand-row-keys":e.expands},on:{select:e.handleSelectChange,"select-all":e.handleSelectAll,"selection-change":e.handleSelectionChange,"row-click":e.handleRowClick,"sort-change":e.handleSortChange,"expand-change":e.expandChangeHandle,moveUp:e.moveUp,moveDown:e.moveDown}},[n("biz-empty-table",{attrs:{slot:"empty"},slot:"empty"}),e.checkable?n("el-table-column",{attrs:{type:"selection",width:"60",selectable:e.selectable}}):e._e(),e._t("default")],2):e._e(),e.pagination&&e.showTable?n("biz-pagination",{attrs:{slot:"bottom",pagination:e.pagination},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange},slot:"bottom"}):e._e()],1)},m=[],w=(n("c975"),n("b85c")),C=n("f36f"),y=n("dcc1"),b={name:"BizFlexTable",components:{BizGrid:C["a"],BizHeader:r["a"],BizPagination:d["a"],BizEmptyTable:y["a"]},data:function(){return{}},props:{height:{type:String,default:function(){return"99%"}},checkable:{type:Boolean,default:function(){return!0}},showSummary:{type:Boolean,default:function(){return!1}},loading:{type:Boolean,default:function(){return!1}},showTable:{type:Boolean,default:function(){return!0}},memberIds:{type:Array,default:function(){return[]}},operations:{type:Array,default:function(){return[]}},filters:{type:Array,default:function(){return[]}},views:{type:Array,default:function(){return[]}},pagination:{type:Object},tableData:{type:Array,default:function(){return[]}},tags:{type:Array,default:function(){return[]}},isDepotOutNew:{type:Boolean,default:function(){return!1}},checkedTable:{type:Array,default:function(){return[]}},isMergeInvoice:{type:Boolean,default:function(){return!1}},spanMethod:Function,rowClassName:{type:Function,default:function(){return null}},rowKeys:{type:Function,default:function(){return null}},expands:{type:Array,default:function(){return null}},expandChange:{type:Function,default:function(){return null}}},methods:{expandChangeHandle:function(e,t){return this.expandChange(e,t)},rowClassNameHandle:function(e){var t=e.row,n=e.index;return this.rowClassName({row:t,index:n})},handleOperate:function(e){this.$emit("operate",e)},handleInputOptionChange:function(e){this.$emit("input-option-change",e)},handleFilterDataChange:function(e){this.$emit("filter-data-change",e)},handleSelectChange:function(e,t){this.$emit("select",e,t)},handleSelectAll:function(e){this.$emit("select-all",e)},handleSelectionChange:function(e){this.$emit("selection-change",e)},handleRowClick:function(e,t,n){this.$emit("row-click",e,t,n)},handleSizeChange:function(e){this.$emit("size-change",e)},handleCurrentChange:function(e){this.$emit("current-change",e),this.$refs.table.bodyWrapper.scrollTop=0},handleSwitch:function(e){this.$emit("on-switch",e)},handleSortChange:function(e){this.$emit("sort-change",e)},handleCascaderChange:function(e){this.$emit("cascader-change",e)},activeItemChange:function(e){this.$emit("active-item-change",e)},selectable:function(e){if(this.checkedTable.length>0){var t,n=Object(w["a"])(this.checkedTable);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(e.id===a.id)return!1}}catch(i){n.e(i)}finally{n.f()}}return e.realStock&&this.isDepotOutNew?e.realStock>0:e.availableStock&&!e.realStock?e.availableStock>0:!(e.invoiceId&&this.isMergeInvoice||"6"===e.state)&&(e.unionConfig?"1"===e.unionConfig.editable:!(this.memberIds.length>0)||this.memberIds.indexOf(e.id)<0)},toggleRowSelection:function(e,t){this.$refs.table.toggleRowSelection(e,t)},doLayout:function(){var e=this;this.$nextTick((function(){e.$refs.table.doLayout()}))},getContainerHeight:function(){return this.container||(this.container=this.$el.querySelector(".biz-grid__content")),this.container.clientHeight},doHeight:function(){var e=this;this.height=this.getContainerHeight(),this.inited||window.addEventListener("resize",(function(t){e.height=e.getContainerHeight()}))},forcedUpdateHeight:function(){this.$refs.table.layout.setHeight(this.getContainerHeight())},onViewSwitch:function(e){this.$emit("onSwitch",e)},moveUp:function(e){this.$emit("moveUp",e)},moveDown:function(e){this.$emit("moveDown",e)}},computed:{},mounted:function(){this.inited=!0}},v=b,$=(n("2452"),Object(h["a"])(v,g,m,!1,null,null,null)),S=$.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"biz-column-operation"},[e._t("default"),n("el-popover",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}],ref:"p-slot",attrs:{placement:"bottom",width:"150",trigger:"hover"}},[e._t("default"),n("el-button",{attrs:{slot:"reference",type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.onMore(t)}},slot:"reference"},[e._v(" 更多 "),n("i",{staticClass:"el-icon-arrow-down"})])],2)],2)},x=[],_={name:"biz-column-operation",components:{},props:{row:Object},data:function(){return{showMore:!1}},computed:{},watch:{row:function(){this.getShowMore()}},created:function(){},mounted:function(){this.getShowMore()},methods:{onMore:function(){},getShowMore:function(){var e=this;setTimeout((function(){if(e.$slots.default){var t,n=0,a=Object(w["a"])(e.$slots.default);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.componentInstance&&n++}}catch(o){a.e(o)}finally{a.f()}e.showMore=n>2,e.operateSlot()}}),50)},operateSlot:function(){var e=this;if(this.showMore){var t,n=1,a=Object(w["a"])(this.$slots.default);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.componentInstance&&(n<=0&&(i.elm.style.display="none"),n--)}}catch(u){a.e(u)}finally{a.f()}setTimeout((function(){var t,n=1,a=Object(w["a"])(e.$refs["p-slot"].$refs.popper.children);try{for(a.s();!(t=a.n()).done;){var i=t.value;1===n&&(i.style.display="none",n--)}}catch(u){a.e(u)}finally{a.f()}}),0)}else{var o,r=Object(w["a"])(this.$slots.default);try{for(r.s();!(o=r.n()).done;){var l=o.value;l.componentInstance&&(l.elm.style.display="")}}catch(u){r.e(u)}finally{r.f()}var c,s=Object(w["a"])(this.$refs["p-slot"].$refs.popper.children);try{for(s.s();!(c=s.n()).done;){var h=c.value;h.style.display=""}}catch(u){s.e(u)}finally{s.f()}}}}},k=_,O=(n("2c2d"),Object(h["a"])(k,z,x,!1,null,null,null)),A=O.exports;n.d(t,"e",(function(){return a["a"]})),n.d(t,"g",(function(){return f})),n.d(t,"d",(function(){return r["a"]})),n.d(t,"f",(function(){return d["a"]})),n.d(t,"b",(function(){return p["a"]})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return A}))},"12a8":function(e,t,n){},2452:function(e,t,n){"use strict";var a=n("3ed8"),i=n.n(a);i.a},"28f4":function(e,t,n){},"2a8af":function(e,t,n){},"2c2d":function(e,t,n){"use strict";var a=n("b260"),i=n.n(a);i.a},"34c0":function(e,t,n){"use strict";var a=n("28f4"),i=n.n(a);i.a},"3b62":function(e,t,n){"use strict";var a=n("4d8b"),i=n.n(a);i.a},"3ed8":function(e,t,n){},"4a8c":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"biz-view-switch"},e._l(e.views,(function(t,a){return n("el-popover",{key:a,attrs:{content:t.title,placement:"bottom-start",trigger:"hover"}},[n("i",{class:e.mixClass(t),style:t.style,attrs:{slot:"reference"},on:{click:function(n){return e.onSwitch(t)}},slot:"reference"})])})),1)},i=[],o=(n("b0c0"),{name:"BizViewSwitch",data:function(){return{}},props:{views:{type:Array,default:function(){return[]}}},computed:{},methods:{onSwitch:function(e){e.actived||this.$emit("onSwitch",e.name)},mixClass:function(e){var t=e.actived?" actived":"",n=e.class+t;return n}}}),r=o,l=(n("7afd"),n("2877")),c=Object(l["a"])(r,a,i,!1,null,null,null);t["a"]=c.exports},"4d8b":function(e,t,n){},"7afd":function(e,t,n){"use strict";var a=n("8860"),i=n.n(a);i.a},"815c":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"biz-table-body"},[n("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{"span-method":e.spanMethod,size:"small",stripe:"",height:e.height,"highlight-current-row":"",data:e.tableData,border:"","tooltip-effect":"dark","row-class-name":e.rowClassNameHandle,"row-key":e.rowKeys,"expand-row-keys":e.expands},on:{"selection-change":e.handleSelectionChange,"row-click":e.rowClick,"filter-change":e.filterChange,"sort-change":e.handleSortChange,"expand-change":e.expandChangeHandle}},[n("biz-empty-table",{attrs:{slot:"empty"},slot:"empty"}),e._t("default")],2),e.pagination?n("biz-pagination",{attrs:{pagination:e.pagination},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}):e._e()],1)},i=[],o=(n("4160"),n("159b"),n("5c40")),r=n("dcc1"),l={name:"BizTableBody",data:function(){return{}},components:{BizPagination:o["a"],BizEmptyTable:r["a"]},props:{height:{type:String,default:"800"},tableData:{type:Array,default:function(){return[]}},pagination:{type:Object,required:!1},spanMethod:Function,rowClassName:{type:Function,default:function(){return null}},rowKeys:{type:Function,default:function(){return null}},expands:{type:Array,default:function(){return null}},expandChange:{type:Function,default:function(){return null}}},methods:{expandChangeHandle:function(e,t){return this.expandChange(e,t)},rowClassNameHandle:function(e){var t=e.row,n=e.index;return this.rowClassName({row:t,index:n})},handleSortChange:function(e){this.$emit("sort-change",e)},handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.$emit("handleSelectionChange",e)},rowClick:function(e,t,n){"selection"!==n.type&&this.$emit("rowClick",e,t,n)},doLayout:function(){var e=this;this.$nextTick((function(){e.$refs.table.doLayout()}))},filterChange:function(e){this.$emit("filterChange",e)}},created:function(){}},c=l,s=(n("d0fc"),n("2877")),h=Object(s["a"])(c,a,i,!1,null,null,null);t["a"]=h.exports},"84fd":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"biz-header"},[n("operation",{staticClass:"biz-header__operation-wrapper",attrs:{operations:e.operations},on:{operate:e.operate}},[e._t("operation")],2),n("div",{staticClass:"biz-header__filter-wrapper"},[n("biz-filter",{attrs:{filters:e.filters},on:{"input-option-change":e.inputOptionChange,filterDataChange:e.filterDataChange,"cascader-change":e.handleCascaderChange,"active-item-change":e.activeItemChange}}),e.views.length>0?n("biz-view-switch",{staticClass:"biz-header__switch",attrs:{views:e.views},on:{onSwitch:e.onSwitch}}):e._e()],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"biz-table-operation"},[e._l(e.authorizedOperation,(function(t,a){return n("el-button",{key:a,class:t.class,attrs:{size:"mini",disabled:t.disabled,type:t.type},on:{click:function(n){return e.operate(t.name)}}},[e._v(" "+e._s(t.label)+" ")])})),e._t("default")],2)},r=[],l=(n("4de4"),n("caad"),n("45fc"),n("2532"),n("5530")),c=n("2f62"),s={name:"BizOperation",data:function(){return{}},props:{operations:{type:Array,default:function(){return[]}}},computed:Object(l["a"])(Object(l["a"])({},Object(c["c"])("Authority",["currentAuth"])),{},{authorizedOperation:function(){var e=this;return this.operations.filter((function(t){return!t.auth||(Array.isArray(t.auth)&&t.auth.length>0?e.currentAuth.some((function(e){return t.auth.includes(e)})):"string"!==typeof t.auth||e.currentAuth.includes(t.auth))}))}}),methods:{operate:function(e){this.$emit("operate",e)}}},h=s,u=(n("34c0"),n("2877")),f=Object(u["a"])(h,o,r,!1,null,"75a930d9",null),d=f.exports,p=n("8c35"),g=n("4a8c"),m={name:"BizHeader",props:{operations:{type:Array,default:function(){return[]}},filters:{type:Array,default:function(){return[]}},views:{type:Array,default:function(){return[]}}},data:function(){return{height:"800"}},components:{Operation:d,BizFilter:p["a"],BizViewSwitch:g["a"]},methods:{operate:function(e){this.$emit("operate",e)},inputOptionChange:function(e){this.$emit("input-option-change",e)},filterDataChange:function(e){this.$emit("filterDataChange",e),this.$emit("filter-data-change",e)},handleCascaderChange:function(e){this.$emit("cascader-change",e)},activeItemChange:function(e){this.$emit("active-item-change",e)},onSwitch:function(e){this.$emit("onSwitch",e),this.$emit("on-switch",e)}}},w=m,C=(n("3b62"),Object(u["a"])(w,a,i,!1,null,null,null));t["a"]=C.exports},8860:function(e,t,n){},b260:function(e,t,n){},d0fc:function(e,t,n){"use strict";var a=n("12a8"),i=n.n(a);i.a},e715:function(e,t,n){"use strict";var a=n("2a8af"),i=n.n(a);i.a}}]);