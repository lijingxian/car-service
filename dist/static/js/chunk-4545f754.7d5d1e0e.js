(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4545f754"],{"06bf":function(e,t,n){"use strict";var o=n("5d38"),a=n.n(o);a.a},3155:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-motorcycle-type",on:{click:function(t){e.open=!0}}},[n("biz-popup-tabs",{attrs:{open:e.open},on:{close:function(t){e.open=!1}},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[n("el-tab-pane",{attrs:{label:"添加",name:"first"}},[n("motorcycle-type")],1)],1)],1)},a=[],r=n("7132"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("biz-grid",{staticClass:"motorcycle-type"},[n("biz-save-button",{attrs:{slot:"top",operations:e.operations},on:{operate:e.operate},slot:"top"}),n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"100px",size:"small","inline-message":!0}},[e.isCreateModel?n("el-form-item",{attrs:{label:"车型",prop:"name"}},[n("el-input",{attrs:{placeholder:e.title},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1):e._e(),n("el-form-item",{attrs:{label:"品牌",prop:"brand"}},[n("el-select",{attrs:{placeholder:"选择品牌"},model:{value:e.brandId,callback:function(t){e.brandId=t},expression:"brandId"}},e._l(e.brandList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),0===e.brandList.length?n("el-button",{attrs:{type:"text",primary:""},on:{click:function(t){e.openBrand=!0}}},[e._v("创建")]):e._e()],1),e.isCreateSeries||e.isCreateModel?n("el-form-item",{attrs:{label:"系列",prop:"title"}},[n("el-select",{attrs:{placeholder:"选择系列"},model:{value:e.seriesId,callback:function(t){e.seriesId=t},expression:"seriesId"}},e._l(e.seriesList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),0===e.seriesList.length?n("el-button",{attrs:{type:"text",primary:""},on:{click:function(t){e.openSeries=!0}}},[e._v("创建")]):e._e()],1):e._e(),e.isCreateModel?n("el-form-item",{attrs:{label:"型号",prop:"title"}},[n("el-checkbox-group",{model:{value:e.typeList,callback:function(t){e.typeList=t},expression:"typeList"}},e._l(e.modelList,(function(t){return n("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.name))])})),1)],1):e._e()],1),n("BrandBaseInfo",{directives:[{name:"show",rawName:"v-show",value:e.openBrand,expression:"openBrand"}],on:{created:e.refreshBrand}}),n("SeriesBaseInfo",{directives:[{name:"show",rawName:"v-show",value:e.openSeries,expression:"openSeries"}],attrs:{brandId:e.brandId},on:{created:e.refreshSeries}})],1)},c=[],s=(n("a15b"),n("b0c0"),n("f36f")),l=n("8330"),u=n("e9c2"),d=n("2bee"),p=n("ff65"),f={name:"MotorcycleType",data:function(){return{loading:!1,isCreateBrand:!1,isCreateSeries:!1,isCreateModel:!1,openBrand:!1,openSeries:!1,brandId:"",seriesId:"",modelId:"",typeList:[],form:{name:""},brandList:[],seriesList:[],modelList:[],operations:[{label:"保存",name:"save",type:"primary"}],rules:{name:[{required:!0,message:"请输入",trigger:"blur"}],brand:[{required:!0,message:"请选择品牌",trigger:["blur","change"]}]}}},components:{BizGrid:s["a"],BizSaveButton:l["a"],BrandBaseInfo:u["a"],SeriesBaseInfo:d["a"]},created:function(){this.getBrandList()},watch:{brandId:function(e){(this.isCreateSeries||this.isCreateModel)&&this.getSeriesList()},seriesId:function(){this.isCreateModel&&this.getModelList()},$route:function(e,t){this.isCreateBrand=!1,this.isCreateSeries=!1,this.isCreateModel=!1,this.getBrandList(),this.$route.query.brandId&&this.getSeriesList(),this.$route.query.seriesId&&this.getModelList()}},computed:{title:function(){return this.isCreateBrand?"品牌":""}},methods:{operate:function(e){this[e]()},refreshBrand:function(){this.openBrand=!1,this.getBrandList(),window.top.postMessage({method:"setServiceCarTree"},window.top.location.origin)},refreshSeries:function(){this.openSeries=!1,this.getSeriesList(),window.top.postMessage({method:"setServiceCarTree"},window.top.location.origin)},getInitInfo:function(){this.brandId=this.$route.query.brandId,this.brandId?(this.isCreateSeries=!0,this.seriesId=this.$route.query.seriesId,this.seriesId&&(this.isCreateModel=!0)):this.isCreateBrand=!0},getBrandList:function(){var e=this,t={shopId:window.top.SHOP_ID||"",type:this.type||"",id:this.id||""};p["a"].getMotorcycleType(t,(function(t){e.brandList=t.list,e.getInitInfo(),e.brandList.length>0&&(e.isCreateSeries||e.isCreateModel||(e.brandId=e.brandList[0].id))}),(function(e){console.log(e)}))},getSeriesList:function(){var e=this,t={shopId:window.top.SHOP_ID||"",type:"carSeries",id:this.brandId};p["a"].getMotorcycleType(t,(function(t){e.seriesList=t.list,e.seriesList.length>0&&(e.isCreateModel||(e.seriesId=e.seriesList[0].id))}),(function(e){console.log(e)}))},getModelList:function(){var e=this,t={shopId:window.top.SHOP_ID||"",type:"carType",id:this.seriesId};p["a"].getMotorcycleType(t,(function(t){e.modelList=t.list}),(function(e){console.log(e)}))},save:function(){this.isCreateModel?this.createModel():this.isCreateSeries?this.createSeries():this.isCreateBrand&&this.createBrand()},createBrand:function(){var e=this,t={shopId:window.top.SHOP_ID||"",brandId:this.brandId,seriesId:"",typeId:"",name:this.form.name};p["a"].CreateMotorcycleType(t,(function(t){e.$message.success("操作成功"),window.top.postMessage({method:"setServiceCarTree"},window.top.location.origin)}),(function(t){e.$message.warning(t.errorMessage)}))},createSeries:function(){var e=this,t={shopId:window.top.SHOP_ID||"",brandId:this.brandId,seriesId:this.seriesId,typeId:"",name:this.form.name};p["a"].CreateMotorcycleType(t,(function(t){e.$message.success("操作成功"),window.top.postMessage({method:"setServiceCarTree"},window.top.location.origin)}),(function(t){e.$message.warning(t.errorMessage)}))},createModel:function(){var e=this;if(""!==this.form.name)if(0!==this.typeList.length){var t={shopId:window.top.SHOP_ID||"",brandId:this.brandId,seriesId:this.seriesId,typeId:this.typeList.join(","),name:this.form.name};p["a"].CreateMotorcycleType(t,(function(t){e.$message.success("操作成功"),window.top.postMessage({method:"setServiceCarTree"},window.top.location.origin)}),(function(t){e.$message.warning(t.errorMessage)}))}else this.$message.warning("请选择车型");else this.$message.warning("请添加车型名称")},create:function(){},update:function(){}}},m=f,h=(n("06bf"),n("2877")),g=Object(h["a"])(m,i,c,!1,null,null,null),b=g.exports,y={name:"AddMotorcycleType",data:function(){return{tabName:"first",open:!0}},components:{BizPopupTabs:r["a"],MotorcycleType:b},created:function(){},computed:{},methods:{}},v=y,S=(n("870e9"),Object(h["a"])(v,o,a,!1,null,null,null));t["default"]=S.exports},"52ee":function(e,t,n){},"5b8e":function(e,t,n){"use strict";var o=n("9678"),a=n.n(o);a.a},"5d38":function(e,t,n){},7132:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"biz-fade-t"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"biz-popup",on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[n("transition",{attrs:{name:"biz-fade-t-right"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"popup-content",style:e.contentStyle},[e._t("default")],2)])],1)])},a=[],r={name:"BizPopup",props:{open:{type:Boolean,default:function(){return!1}},contentStyle:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{close:function(){this.$emit("close")}}},i=r,c=(n("5b8e"),n("2877")),s=Object(c["a"])(i,o,a,!1,null,null,null),l=s.exports,u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"biz-popup-tabs"},[n("biz-popup",{attrs:{open:e.open,contentStyle:e.contentStyle},on:{close:e.close}},[n("el-tabs",{attrs:{type:"border-card",value:e.value},on:{"tab-click":e.tabClick}},[e._t("default")],2)],1)],1)},d=[],p=(n("b0c0"),{name:"BizPopupTabs",data:function(){return{}},props:{open:{type:Boolean,default:!1},value:{type:String,required:!0},contentStyle:{type:Object,default:function(){return{}}}},components:{BizPopup:l},methods:{close:function(){var e=this;this.$confirm("是否保存当前页面?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$emit("close")}))},tabClick:function(e){this.$emit("input",e.name)}}}),f=p,m=(n("d4c2"),Object(c["a"])(f,u,d,!1,null,null,null)),h=m.exports;n.d(t,"a",(function(){return h}))},"870e9":function(e,t,n){"use strict";var o=n("52ee"),a=n.n(o);a.a},9678:function(e,t,n){},d4c2:function(e,t,n){"use strict";var o=n("e725"),a=n.n(o);a.a},e725:function(e,t,n){},ff65:function(e,t,n){"use strict";var o=n("2497"),a=n("bc3a"),r=n.n(a),i=n("c596");t["a"]={getServiceProjectList:function(e,t,n){r.a.get(i["g"].maintenance.serviceProjectList,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},getServiceProject:function(e,t,n){r.a.get(i["g"].maintenance.serviceProject,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},createServiceProject:function(e,t,n){r.a.post(i["g"].maintenance.serviceProject,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},updateServiceProject:function(e,t,n){r.a.put(i["g"].maintenance.serviceProject,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},deleteServiceProject:function(e,t,n){r.a.delete(i["g"].maintenance.serviceProject,{data:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},importFromPlatform:function(e,t,n){r.a.post(i["g"].maintenance.importFromPlatform,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},importFromExcel:function(e,t,n){r.a.post(i["g"].maintenance.importFromExcel,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},importBooklet:function(e,t,n){r.a.post(i["g"].maintenance.importBooklet,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},getPlatformService:function(e,t,n){r.a.get(i["g"].maintenance.platformService,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},getServiceProjectAllList:function(e,t,n){r.a.get(i["g"].maintenance.serviceProjectAllList,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},getServiceList:function(e,t,n){r.a.get(i["g"].maintenance.queryOrderList,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},getServiceHandbookList:function(e,t,n){r.a.get(i["g"].maintenance.serviceHandbookList,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},createServiceHandbook:function(e,t,n){r.a.post(i["g"].maintenance.serviceHandbook,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},getServiceHandbook:function(e,t,n){r.a.get(i["g"].maintenance.serviceHandbook,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},updateServiceHandbook:function(e,t,n){r.a.put(i["g"].maintenance.serviceHandbook,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},deleteServiceHandbook:function(e,t,n){r.a.delete(i["g"].maintenance.serviceHandbook,{data:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},importServiceHandbook:function(e,t,n){r.a.post(i["g"].maintenance.importServiceHandbook,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},getMotorcycleType:function(e,t,n){r.a.get(i["g"].maintenance.MotorcycleType,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},CreateMotorcycleType:function(e,t,n){r.a.post(i["g"].maintenance.CreateMotorcycleType,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},getRescueOrgList:function(e,t,n){r.a.get(i["g"].maintenance.RescueOrgList,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},createRescueOrg:function(e,t,n){r.a.post(i["g"].maintenance.RescueOrg,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},getRescueOrg:function(e,t,n){r.a.get(i["g"].maintenance.RescueOrg,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},updateRescueOrg:function(e,t,n){r.a.put(i["g"].maintenance.RescueOrg,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},deleteRescueOrg:function(e,t,n){r.a.delete(i["g"].maintenance.RescueOrg,{data:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},getUpkeepList:function(e,t,n){},listMaintainBooklet:function(e,t,n){r.a.get(i["g"].maintenance.listMaintainBooklet,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},maintainBookletQuery:function(e,t,n){r.a.get(i["g"].maintenance.maintainBooklet,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},maintainBookletUpdate:function(e,t,n){r.a.put(i["g"].maintenance.maintainBooklet,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},maintainBookletCreate:function(e,t,n){r.a.post(i["g"].maintenance.maintainBooklet,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},maintainBookletDelete:function(e,t,n){r.a.delete(i["g"].maintenance.maintainBooklet,{data:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},queryBrandList:function(e,t,n){r.a.get(i["g"].maintenance.queryBrandList,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},querySeriesList:function(e,t,n){r.a.get(i["g"].maintenance.querySeriesList,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},queryModeList:function(e,t,n){r.a.get(i["g"].maintenance.queryModeList,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},querySysBrandList:function(e,t,n){r.a.get(i["g"].maintenance.brandList,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},querySysSeriesList:function(e,t,n){r.a.post(i["g"].maintenance.seriesList,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},querySysModeList:function(e,t,n){r.a.post(i["g"].maintenance.modelList,e).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},listCarType:function(e,t,n){r.a.get(i["g"].maintenance.queryModeList,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},baseData:function(e,t,n){r.a.get(i["g"].maintenance.baseData,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},bookletbaseData:function(e,t,n){r.a.get(i["g"].maintenance.bookletbaseData,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},bookletShopData:function(e,t,n){r.a.get(i["g"].maintenance.bookletShopData,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},queryImportProgress:function(e,t,n){r.a.get(i["g"].maintenance.queryImportProgress,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))},queryImportBaseProgress:function(e,t,n){r.a.get(i["g"].maintenance.queryImportBaseProgress,{params:e}).then(Object(o["a"])(t,n)).catch((function(e){console.error(e)}))}}}}]);