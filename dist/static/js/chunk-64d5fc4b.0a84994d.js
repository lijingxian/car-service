(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64d5fc4b"],{e00c:function(e,t,s){},e29c:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("biz-grid",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"recommend-mgmt"},[s("div",{staticClass:"recommend-setting"},[s("div",{staticClass:"rec-select-con"},[s("span",{staticClass:"title"},[e._v("客户端推荐算法配置")]),s("div",{staticClass:"select-con"},[s("span",{staticClass:"label"},[e._v("个性化资讯推荐算法运行时机")]),s("el-select",{staticClass:"rec-select",attrs:{placeholder:"请选择",filterable:""},on:{change:e.workTimeChange},model:{value:e.personalInfoRecommendTime,callback:function(t){e.personalInfoRecommendTime=t},expression:"personalInfoRecommendTime"}},e._l(e.recommendRunTime,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),s("div",{staticClass:"select-con"},[s("span",{staticClass:"label"},[e._v("个性化资讯推荐列表显示数目")]),s("el-select",{staticClass:"rec-select",attrs:{placeholder:"请选择",filterable:""},on:{change:e.workTimeChange},model:{value:e.personalInfoRecommendCount,callback:function(t){e.personalInfoRecommendCount=t},expression:"personalInfoRecommendCount"}},e._l(e.listLength,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),s("div",{staticClass:"select-con"},[s("span",{staticClass:"label"},[e._v("相关资讯更新时间")]),s("el-select",{staticClass:"rec-select",attrs:{placeholder:"请选择",filterable:""},on:{change:e.workTimeChange},model:{value:e.relativeInfoUpdateTime,callback:function(t){e.relativeInfoUpdateTime=t},expression:"relativeInfoUpdateTime"}},e._l(e.listUpdateTime,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),s("div",{staticClass:"select-con"},[s("span",{staticClass:"label"},[e._v("相关资讯列表长度")]),s("el-input",{staticClass:"news-list-length",model:{value:e.relativeInfoListLength,callback:function(t){e.relativeInfoListLength=t},expression:"relativeInfoListLength"}})],1),s("div",{staticClass:"select-con"},[s("span",{staticClass:"label"},[e._v("个性化商品推荐算法运行时机")]),s("el-select",{staticClass:"rec-select",attrs:{placeholder:"请选择",filterable:""},on:{change:e.workTimeChange},model:{value:e.personalProductRecommendTime,callback:function(t){e.personalProductRecommendTime=t},expression:"personalProductRecommendTime"}},e._l(e.recommendRunTime,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),s("div",{staticClass:"select-con"},[s("span",{staticClass:"label"},[e._v("个性化商品推荐列表显示数目")]),s("el-select",{staticClass:"rec-select",attrs:{placeholder:"请选择",filterable:""},on:{change:e.workTimeChange},model:{value:e.personalProductRecommendCount,callback:function(t){e.personalProductRecommendCount=t},expression:"personalProductRecommendCount"}},e._l(e.listLength,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),s("div",{staticClass:"select-con"},[s("span",{staticClass:"label"},[e._v("相似商品更新时间")]),s("el-select",{staticClass:"rec-select",attrs:{placeholder:"请选择",filterable:""},on:{change:e.workTimeChange},model:{value:e.similarProductUpdateTime,callback:function(t){e.similarProductUpdateTime=t},expression:"similarProductUpdateTime"}},e._l(e.listUpdateTime,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),s("div",{staticClass:"select-con"},[s("span",{staticClass:"label"},[e._v("相似商品列表长度")]),s("el-input",{staticClass:"news-list-length",model:{value:e.similarProductListLength,callback:function(t){e.similarProductListLength=t},expression:"similarProductListLength"}})],1),s("div",{staticClass:"select-con"},[s("span",{staticClass:"label"},[e._v("相关商品更新时间")]),s("el-select",{staticClass:"rec-select",attrs:{placeholder:"请选择",filterable:""},on:{change:e.workTimeChange},model:{value:e.relativeProductUpdateTime,callback:function(t){e.relativeProductUpdateTime=t},expression:"relativeProductUpdateTime"}},e._l(e.listUpdateTime,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),s("div",{staticClass:"select-con"},[s("span",{staticClass:"label"},[e._v("相关商品列表长度")]),s("el-input",{staticClass:"news-list-length",model:{value:e.relativeProductListLength,callback:function(t){e.relativeProductListLength=t},expression:"relativeProductListLength"}})],1)]),s("div",{staticClass:"bottom-button",attrs:{slot:"bottom"},slot:"bottom"},[s("biz-header",{attrs:{operations:e.operationTop},on:{operate:e.operate}})],1),s("div",{staticClass:"rec-select-con"},[s("span",{staticClass:"title"},[e._v("客户端排序规则")]),s("div",{staticClass:"select-con"},[s("span",{staticClass:"label"},[e._v("个性化资讯列表排序规则")]),s("el-select",{staticClass:"rec-select",attrs:{placeholder:"请选择",filterable:""},on:{change:e.workTimeChange},model:{value:e.personalInfoOrderType,callback:function(t){e.personalInfoOrderType=t},expression:"personalInfoOrderType"}},e._l(e.listOrderType,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),s("div",{staticClass:"select-con"},[s("span",{staticClass:"label"},[e._v("个性化商品列表排序规则")]),s("el-select",{staticClass:"rec-select",attrs:{placeholder:"请选择",filterable:""},on:{change:e.workTimeChange},model:{value:e.personalProductOrderType,callback:function(t){e.personalProductOrderType=t},expression:"personalProductOrderType"}},e._l(e.listOrderType,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1)]),s("div",{staticClass:"bottom-button",attrs:{slot:"bottom"},slot:"bottom"},[s("biz-header",{attrs:{operations:e.operationBottom},on:{operate:e.operate}})],1)])])},a=[],o=(s("b0c0"),s("d3b7"),s("f36f")),i=s("04d3"),l=s("1ab1"),r=s("c596"),c={name:"recommend-mgmt",data:function(){return{loading:!1,operationTop:[{label:"恢复默认",name:"topRestore",type:"primary"},{label:"保存",name:"topSave",type:"primary"}],operationBottom:[{label:"恢复默认",name:"bottomRestore",type:"primary"},{label:"保存",name:"bottomSave",type:"primary"}],personalInfoRecommendTime:"",personalInfoOrderType:"",personalInfoRecommendCount:"",relativeInfoUpdateTime:"",relativeInfoListLength:"",personalProductRecommendTime:"",personalProductRecommendCount:"",similarProductUpdateTime:"",similarProductListLength:"",relativeProductUpdateTime:"",relativeProductListLength:"",personalProductOrderType:"",recommendRunTime:[],listUpdateTime:[],listLength:[],listOrderType:[]}},props:{},components:{BizGrid:o["a"],BizHeader:i["d"]},computed:{},watch:{},methods:{topRestore:function(){this.restore("top")},topSave:function(){this.save("top")},bottomRestore:function(){this.restore("bottom")},bottomSave:function(){this.save("bottom")},restore:function(e){var t,s=this;"top"===e?t={personalInfoRecommendTime:"每天",personalInfoRecommendCount:"50",relativeInfoUpdateTime:"每周",relativeInfoListLength:"12",personalProductRecommendTime:"每天",personalProductRecommendCount:"50",similarProductUpdateTime:"每周",similarProductListLength:"12",relativeProductUpdateTime:"每周",relativeProductListLength:"12"}:"bottom"===e&&(t={personalInfoOrderType:"0",personalProductOrderType:"1"}),l["a"].put(r["g"].systemSetting.querySystemSetting,t).then((function(e){s.$message({title:"成功",message:"更新成功",type:"success"}),s.$emit("refreshNotification"),s.getSettings()})).catch((function(e){s.$message({title:"警告",message:e.errorMessage,type:"warning"})})).finally((function(){}))},save:function(e){var t,s=this;this.loading=!0,"top"===e?t={personalInfoRecommendTime:this.personalInfoRecommendTime,personalInfoRecommendCount:this.personalInfoRecommendCount,relativeInfoUpdateTime:this.relativeInfoUpdateTime,relativeInfoListLength:this.relativeInfoListLength,personalProductRecommendTime:this.personalProductRecommendTime,personalProductRecommendCount:this.personalProductRecommendCount,similarProductUpdateTime:this.similarProductUpdateTime,similarProductListLength:this.similarProductListLength,relativeProductUpdateTime:this.relativeProductUpdateTime,relativeProductListLength:this.relativeProductListLength}:"bottom"===e&&(t={personalInfoOrderType:"轮询原则"===this.personalInfoOrderType?"0":"1",personalProductOrderType:"轮询原则"===this.personalProductOrderType?"0":"1"}),l["a"].put(r["g"].systemSetting.querySystemSetting,t).then((function(e){s.loading=!1,s.$message({title:"成功",message:"更新成功",type:"success"}),s.$emit("refreshNotification")})).catch((function(e){s.$message({title:"警告",message:e.errorMessage,type:"warning"})})).finally((function(){}))},operate:function(e){this[e]()},workTimeChange:function(){},getSettings:function(){var e=this;this.loading=!0;var t={type:"4"};l["a"].get(r["g"].systemSetting.settings,t).then((function(t){e.loading=!1,console.log("推荐配置",t),e.recommendRunTime=t.recommendRunTime,e.listUpdateTime=t.listUpdateTime,e.listLength=t.listLength,e.listOrderType=t.listOrderType,e.setting(t)})).catch((function(){})).finally((function(){}))},setting:function(e){this.personalInfoRecommendTime=e.settingList.personalInfoRecommendTime,this.personalInfoRecommendCount=e.settingList.personalInfoRecommendCount,this.relativeInfoUpdateTime=e.settingList.relativeInfoUpdateTime,this.relativeInfoListLength=e.settingList.relativeInfoListLength,this.personalProductRecommendTime=e.settingList.personalProductRecommendTime,this.personalProductRecommendCount=e.settingList.personalProductRecommendCount,this.similarProductUpdateTime=e.settingList.similarProductUpdateTime,this.similarProductListLength=e.settingList.similarProductListLength,this.relativeProductUpdateTime=e.settingList.relativeProductUpdateTime,this.relativeProductListLength=e.settingList.relativeProductListLength,this.personalInfoOrderType=this.listOrderType[parseInt(e.settingList.personalInfoOrderType)].name,this.personalProductOrderType=this.listOrderType[parseInt(e.settingList.personalProductOrderType)].name}},created:function(){this.getSettings()}},m=c,d=(s("ff38"),s("2877")),p=Object(d["a"])(m,n,a,!1,null,null,null);t["default"]=p.exports},ff38:function(e,t,s){"use strict";var n=s("e00c"),a=s.n(n);a.a}}]);