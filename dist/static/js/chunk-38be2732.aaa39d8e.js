(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38be2732"],{"03e1":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("biz-grid",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"accused-info"},["0"===e.info.state?a("biz-save-button",{attrs:{slot:"top",operations:e.operations},on:{operate:e.operateHandler},slot:"top"}):e._e(),a("div",{staticClass:"accused-info-item"},[a("p",{staticClass:"label"},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("判定结果")]),a("div",["0"===e.info.state||"1"===e.info.state?a("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("申诉成功")]):e._e(),"0"===e.info.state||"2"===e.info.state?a("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("申诉失败")]):e._e(),"3"===e.info.state?a("span",{staticStyle:{color:"#ff7300"}},[e._v("申诉取消")]):e._e()],1)]),a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("判定说明")]),a("el-input",{staticStyle:{width:"350px"},attrs:{type:"textarea",rows:4,disabled:"0"!==e.info.state},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1),a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("车牌号")]),a("el-input",{staticClass:"el-input",attrs:{disabled:!0},model:{value:e.info.plateNumber,callback:function(t){e.$set(e.info,"plateNumber",t)},expression:"info.plateNumber"}})],1),a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("车主姓名")]),a("el-input",{staticClass:"el-input",attrs:{disabled:!0},model:{value:e.realName,callback:function(t){e.realName=t},expression:"realName"}})],1),a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("手机号码")]),a("el-input",{staticClass:"el-input",attrs:{disabled:!0},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1),a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("车辆识别代号")]),a("el-input",{staticClass:"el-input",attrs:{disabled:!0},model:{value:e.info.vin,callback:function(t){e.$set(e.info,"vin",t)},expression:"info.vin"}})],1),a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("发动机号")]),a("el-input",{staticClass:"el-input",attrs:{disabled:!0},model:{value:e.info.engineNumber,callback:function(t){e.$set(e.info,"engineNumber",t)},expression:"info.engineNumber"}})],1),a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("品牌")]),a("el-input",{staticClass:"el-input",attrs:{disabled:!0},model:{value:e.brand,callback:function(t){e.brand=t},expression:"brand"}})],1),a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("系列")]),a("el-input",{staticClass:"el-input",attrs:{disabled:!0},model:{value:e.series,callback:function(t){e.series=t},expression:"series"}})],1),a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("车型")]),a("el-input",{staticClass:"el-input",attrs:{disabled:!0},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),a("div",{staticClass:"complant-img-div"},[a("img",{attrs:{src:e.imgUrl}})])],1)},i=[],s=(a("b0c0"),a("d3b7"),a("f36f")),l=a("8330"),o=a("1ab1"),c=a("c596"),r={name:"accused-info",data:function(){return{loading:!1,operations:[{label:"保存",name:"save",type:"primary"}],radio:"",textarea:"",info:{},realName:"",mobile:"",brand:"",series:"",type:"",imgUrl:""}},props:{itemId:{type:String,default:function(){return""}}},components:{BizSaveButton:l["a"],BizGrid:s["a"]},computed:{},watch:{itemId:function(e,t){e&&(this.urls="",this.getAccusedInfo())}},methods:{operateHandler:function(){"1"===this.radio||"2"===this.radio?this.addComplaintInfo():this.$message.warning("请选择判定结果")},addComplaintInfo:function(){var e=this;this.loading=!0;var t={id:this.info.id,state:this.radio,vin:this.info.vin,plateNumber:this.info.plateNumber,engineNumber:this.info.engineNumber,plateNumberType:this.info.plateNumberType,paths:this.info.paths,memo:this.textarea,appealer:this.info.appealer,respondent:this.info.respondent,operator:this.info.operator,car:this.info.car};o["a"].put(c["g"].vehicleMgmt.VehicleBaseInfo_appeal,t).then((function(t){e.loading=!1,e.$message({title:"成功",message:"更新成功",type:"success"}),e.$emit("operationSuccess"),e.getAccusedInfo()})).catch((function(t){e.loading=!1,console.log(t),e.$message({title:"警告",message:t.errorMessage,type:"warning"})})).finally((function(){}))},getAccusedInfo:function(){var e=this;this.loading=!0;var t={id:this.itemId};o["a"].get(c["g"].vehicleMgmt.VehicleBaseInfo_appeal,t).then((function(t){console.log("通过id查询",t),e.loading=!1,e.info=t.data,e.textarea=e.info.memo,e.imgUrl=e.info.paths[0];var a=e.info.appealer,n=e.info.car;a&&(a.name&&(e.realName=a.name),a.mobile&&(e.mobile=a.mobile)),n&&(n.brand&&(e.brand=n.brand),n.series&&(e.series=n.series),n.type&&(e.type=n.type)),"1"===e.info.state?e.radio="1":"2"===e.info.state?e.radio="2":e.radio="0"})).catch((function(t){e.loading=!1,e.$message.warning(t.errorMessage)})).finally((function(){}))}},created:function(){this.getAccusedInfo()}},u=r,p=(a("c9a3"),a("2877")),d=Object(p["a"])(u,n,i,!1,null,null,null);t["a"]=d.exports},"0d1d":function(e,t,a){},"2d15":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("biz-grid",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"complaint-base-info"},[a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("车牌号")]),a("el-input",{staticClass:"el-input",attrs:{disabled:!0},model:{value:e.plateNumber,callback:function(t){e.plateNumber=t},expression:"plateNumber"}})],1),a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("车主姓名")]),a("el-input",{staticClass:"el-input",attrs:{disabled:!0},model:{value:e.carOwnerName,callback:function(t){e.carOwnerName=t},expression:"carOwnerName"}})],1),a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("手机号码")]),a("el-input",{staticClass:"el-input",attrs:{disabled:!0},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1),a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("车辆识别代号")]),a("el-input",{staticClass:"el-input",attrs:{disabled:!0},model:{value:e.carVinNo,callback:function(t){e.carVinNo=t},expression:"carVinNo"}})],1),a("div",{staticClass:"accused-info-item"},[a("span",{staticClass:"label"},[e._v("发动机号")]),a("el-input",{staticClass:"el-input",attrs:{disabled:!0},model:{value:e.engineNo,callback:function(t){e.engineNo=t},expression:"engineNo"}})],1)])},i=[],s=(a("b0c0"),a("d3b7"),a("f36f")),l=a("1ab1"),o=a("c596"),c={name:"complaint-base-info",data:function(){return{loading:!1,plateNumber:"",carOwnerName:"",phoneNumber:"",carVinNo:"",engineNo:""}},props:{itemId:{type:String,default:function(){return""}}},components:{BizGrid:s["a"]},computed:{},watch:{itemId:function(e,t){e&&this.getAccusedInfo()}},methods:{getAccusedInfo:function(){var e=this;this.loading=!0;var t={id:this.itemId};l["a"].get(o["g"].vehicleMgmt.VehicleBaseInfo_appeal,t).then((function(t){console.log("通过id查询",t),e.loading=!1;var a=t.data;e.plateNumber=a.plateNumber,e.carOwnerName=a.respondent.name,e.phoneNumber=a.respondent.mobile,e.carVinNo=a.car.vin,e.engineNo=a.engineNumber})).catch((function(t){e.loading=!1,e.$message.warning(t.errorMessage)})).finally((function(){}))}},created:function(){this.getAccusedInfo()}},r=c,u=(a("a5c8"),a("2877")),p=Object(u["a"])(r,n,i,!1,null,null,null);t["a"]=p.exports},"349b":function(e,t,a){},"5b8e":function(e,t,a){"use strict";var n=a("9678"),i=a.n(n);i.a},"60d0":function(e,t,a){"use strict";var n=a("d04b"),i=a.n(n);i.a},7132:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"biz-fade-t"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"biz-popup",on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[a("transition",{attrs:{name:"biz-fade-t-right"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"popup-content",style:e.contentStyle},[e._t("default")],2)])],1)])},i=[],s={name:"BizPopup",props:{open:{type:Boolean,default:function(){return!1}},contentStyle:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{close:function(){this.$emit("close")}}},l=s,o=(a("5b8e"),a("2877")),c=Object(o["a"])(l,n,i,!1,null,null,null),r=c.exports,u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"biz-popup-tabs"},[a("biz-popup",{attrs:{open:e.open,contentStyle:e.contentStyle},on:{close:e.close}},[a("el-tabs",{attrs:{type:"border-card",value:e.value},on:{"tab-click":e.tabClick}},[e._t("default")],2)],1)],1)},p=[],d=(a("b0c0"),{name:"BizPopupTabs",data:function(){return{}},props:{open:{type:Boolean,default:!1},value:{type:String,required:!0},contentStyle:{type:Object,default:function(){return{}}}},components:{BizPopup:r},methods:{close:function(){var e=this;this.$confirm("是否保存当前页面?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$emit("close")}))},tabClick:function(e){this.$emit("input",e.name)}}}),f=d,m=(a("d4c2"),Object(o["a"])(f,u,p,!1,null,null,null)),b=m.exports;a.d(t,"a",(function(){return b}))},9678:function(e,t,a){},a5c8:function(e,t,a){"use strict";var n=a("0d1d"),i=a.n(n);i.a},c9a3:function(e,t,a){"use strict";var n=a("349b"),i=a.n(n);i.a},d04b:function(e,t,a){},d4c2:function(e,t,a){"use strict";var n=a("e725"),i=a.n(n);i.a},e725:function(e,t,a){},f573:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vehicle-complaint"},[a("biz-flex-table",{ref:"table",attrs:{filters:e.filters,pagination:e.pagination,tableData:e.tableData,loading:e.loading},on:{"size-change":e.pageSizeChange,"current-change":e.currentPageChange,"selection-change":e.selectionChangeHandler,"filter-data-change":e.filterDataChangeHandler,"row-click":e.rowOperationClickHandler}},[a("el-table-column",{attrs:{prop:"plateNumber",label:"车牌号"}}),a("el-table-column",{attrs:{label:"车主信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("div",[a("span",[e._v(e._s(t.row.appealer.name))])]),a("div",[a("span",[e._v(e._s("0"===t.row.appealer.gender?"男":"女"))])]),a("div",[a("span",[e._v(e._s(t.row.appealer.mobile))])])])]}}])}),a("el-table-column",{attrs:{prop:"createDate",label:"申请提交时间"}}),a("el-table-column",{attrs:{prop:"state",label:"处理进度"}}),a("el-table-column",{attrs:{prop:"modifyDate",label:"处理时间"}})],1),a("div",{attrs:{slot:"float"},slot:"float"},[a("complaint-popup",{attrs:{open:e.open,itemId:e.itemId},on:{close:function(t){e.open=!1},operationSuccess:e.operationSuccess}})],1)],1)},i=[],s=(a("4160"),a("d3b7"),a("25f0"),a("159b"),a("04d3")),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("biz-popup-tabs",{attrs:{open:e.open},on:{close:e.close},model:{value:e.tabSelection,callback:function(t){e.tabSelection=t},expression:"tabSelection"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[a("accused-info",{attrs:{itemId:e.itemId},on:{operationSuccess:e.operationSuccess}})],1),a("el-tab-pane",{attrs:{label:"被诉人信息",name:"1"}},[a("complaint-base-info",{attrs:{itemId:e.itemId}})],1)],1)},o=[],c=a("7132"),r=a("03e1"),u=a("2d15"),p={name:"complaint-popup",components:{BizPopupTabs:c["a"],AccusedInfo:r["a"],ComplaintBaseInfo:u["a"]},props:{open:{type:Boolean},itemId:{type:String,default:function(){return""}}},data:function(){return{tabSelection:"0"}},methods:{operationSuccess:function(e){this.$emit("operationSuccess",e)},close:function(e){this.$emit("close",e)}},watch:{open:function(e){},tabSelection:function(e){}}},d=p,f=a("2877"),m=Object(f["a"])(d,l,o,!1,null,null,null),b=m.exports,g=a("1ab1"),v=a("c596"),h={name:"vehicle-complaint",data:function(){return{itemId:"1",classId:"",selections:[],open:!1,loading:!1,tableData:[],filters:[{type:"select",label:"处理进度",name:"searchValue",value:"全部",options:[{value:"全部",label:"全部"},{value:"待处理",label:"待处理"},{value:"申诉成功",label:"申诉成功"},{value:"申诉失败",label:"申诉失败"},{value:"申诉取消",label:"申诉取消"}]},{type:"input",label:"",placeholder:"请输入车主手机号/车牌号",name:"searchValue",value:""}],pagination:{pageSize:20,currentPage:1,pageSizes:[10,20,50,100],total:0}}},props:{},components:{BizFlexTable:s["c"],ComplaintPopup:b},computed:{},watch:{},methods:{operationSuccess:function(){this.getComplaintInfos()},filterDataChangeHandler:function(){this.pagination.currentPage=1,console.log("filterDataChangeHandler"),this.getComplaintInfos()},selectionChangeHandler:function(){console.log("selectionChangeHandler")},currentPageChange:function(e){console.log("currentPageChange"),this.pagination.currentPage=e,this.getComplaintInfos()},pageSizeChange:function(e){console.log("pageSizeChange"),this.pagination.pageSize=e,this.pagination.currentPage=1,this.getComplaintInfos()},rowOperationClickHandler:function(e){this.itemId=e.id,this.open=!0,console.log(e.id)},getComplaintInfos:function(){var e,t=this;switch(this.loading=!0,this.filters[0].value){case"全部":e="";break;case"待处理":e="0";break;case"申诉成功":e="1";break;case"申诉失败":e="2";break;case"申诉取消":e="3";break;default:e="";break}console.log("状态",this.filters);var a={state:e,mobile:"",plateNumber:"",searchValue:this.filters[1].value,pageNumber:this.pagination.currentPage.toString(),pageSize:this.pagination.pageSize.toString()};g["a"].get(v["g"].vehicleMgmt.VehicleBaseInfo_appeals,a).then((function(e){t.tableData=e.datas,e.datas.forEach((function(e){switch(e.state){case"0":e.state="待处理";break;case"1":e.state="申诉成功";break;case"2":e.state="申诉失败";break;case"3":e.state="申诉取消";break}})),console.log(e),t.loading=!1,t.pagination.pageSize=parseInt(e.pageSize),t.pagination.currentPage=parseInt(e.pageNumber),t.pagination.total=parseInt(e.total)})).catch((function(e){t.loading=!1,t.$message.warning(e.errorMessage)})).finally((function(){}))},addComplaintInfo:function(){var e=this,t={state:"0",userId:"23",vin:"2134234",plateNumber:"吉ADZ421",engineNumber:"eyriuwery324234",plateNumberType:"0",paths:["werywer"],memo:"",appealer:{},respondent:{},operator:{},car:{}};g["a"].post(v["g"].vehicleMgmt.VehicleBaseInfo_addAppeal,t).then((function(t){console.log("添加申诉信息",t),e.getComplaintInfos()})).catch((function(){})).finally((function(){}))}},created:function(){this.getComplaintInfos()}},C=h,N=(a("60d0"),Object(f["a"])(C,n,i,!1,null,null,null));t["default"]=N.exports}}]);