(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72aec75f"],{2497:function(e,t,a){"use strict";var n=a("4360"),i=a("a18c");t["a"]=function(e,t){return function(a){var o=a.data;"100"===o.resultCode?e(o):"709"===o.resultCode?(n["a"].commit("updateUser",{shop:{}}),console.log("未登录: ",n["a"].getters.currentUser),i["a"].push("/login")):t(o)}}},"55ce":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("biz-grid",{staticClass:"maintenance-notification-settings"},[a("biz-save-button",{staticClass:"inline",attrs:{slot:"top",operations:e.operations},on:{operate:e.operate},slot:"top"}),a("el-form",{ref:"form",attrs:{size:"small"}},[a("el-form-item",{attrs:{error:e.error}},[a("el-checkbox",{model:{value:e.mileageEnable,callback:function(t){e.mileageEnable=t},expression:"mileageEnable"}},[e._v(" 按里程 "),a("el-select",{model:{value:e.mileageType,callback:function(t){e.mileageType=t},expression:"mileageType"}},[a("el-option",{attrs:{label:"5000km",value:"0"}}),a("el-option",{attrs:{label:"7500km",value:"1"}}),a("el-option",{attrs:{label:"10000km",value:"2"}}),a("el-option",{attrs:{label:"12000km",value:"3"}}),a("el-option",{attrs:{label:"20000km",value:"4"}})],1)],1),a("el-checkbox",{model:{value:e.timeEnable,callback:function(t){e.timeEnable=t},expression:"timeEnable"}},[e._v(" 按时间 "),a("el-select",{model:{value:e.timeType,callback:function(t){e.timeType=t},expression:"timeType"}},[a("el-option",{attrs:{label:"90天",value:"0"}}),a("el-option",{attrs:{label:"180天",value:"1"}}),a("el-option",{attrs:{label:"360天",value:"2"}})],1)],1)],1)],1)],1)},i=[],o=a("f36f"),c=a("8330"),r=a("5f70"),s={name:"NotificationSettings",data:function(){return{error:"",mileageEnable:!0,timeEnable:!1,mileageType:"0",timeType:"0",operations:[{label:"保存",name:"save",type:"primary",auth:["admin:aftersale.maintain.edit"]}]}},computed:{Notification:function(){var e=[];return this.mileageEnable?e[0]=this.mileageType:e[0]="",this.timeEnable?e[1]=this.timeType:e[1]="",e}},methods:{operate:function(e){this[e]()},save:function(){var e=this;if(""!==this.Notification[0]||""!==this.Notification[1]){this.error="";var t={mileageType:this.mileageType,timeType:this.timeType,mileageEnable:!0===this.mileageEnable?"1":"0",timeEnable:!0===this.timeEnable?"1":"0"};r["a"].saveSettings(t,(function(t){e.$message.success("操作成功"),e.refresh()}),(function(e){}))}else this.error="请至少选择一项"},refresh:function(){var e=this,t={};r["a"].getSettings(t,(function(t){e.mileageType=""===t.data.mileageType?"0":t.data.mileageType,e.timeType=""===t.data.timeType?"0":t.data.timeType,e.mileageEnable="1"===t.data.mileageEnable,e.timeEnable="1"===t.data.timeEnable}),(function(e){}))},showMessage:function(e,t){this.$notify({showClose:!0,message:e,type:t})}},watch:{},created:function(){this.refresh()},components:{BizGrid:o["a"],BizSaveButton:c["a"]}},l=s,u=(a("ec95"),a("2877")),m=Object(u["a"])(l,n,i,!1,null,null,null);t["default"]=m.exports},"5f70":function(e,t,a){"use strict";var n=a("2497"),i=a("bc3a"),o=a.n(i),c=a("c596");t["a"]={queryNavInfo:function(e,t,a){o.a.get(c["g"].maintenance.queryNavInfo,{params:e}).then(Object(n["a"])(t,a)).catch((function(e){console.error(e)}))},getMsg:function(e,t,a){o.a.get(c["g"].maintenance.getMaintenanceMsg,{params:e}).then(Object(n["a"])(t,a)).catch((function(e){console.error(e)}))},getRecordsList:function(e,t,a){o.a.get(c["g"].maintenance.queryMaintenanceRecords,{params:e}).then(Object(n["a"])(t,a)).catch((function(e){console.error(e)}))},delete:function(e,t,a){o.a.post(c["g"].maintenance.deleteRecords,e).then(Object(n["a"])(t,a)).catch((function(e){console.error(e)}))},query:function(e,t,a){o.a.get(c["g"].maintenance.queryRecords,{params:e}).then(Object(n["a"])(t,a)).catch((function(e){console.error(e)}))},create:function(e,t,a){o.a.post(c["g"].maintenance.createRecords,e).then(Object(n["a"])(t,a)).catch((function(e){console.error(e)}))},update:function(e,t,a){o.a.post(c["g"].maintenance.updateRecords,e).then(Object(n["a"])(t,a)).catch((function(e){console.error(e)}))},search:function(e,t,a){o.a.get(c["g"].maintenance.searchPastRecords,{params:e}).then(Object(n["a"])(t,a)).catch((function(e){console.error(e)}))},getSettings:function(e,t,a){o.a.get(c["g"].maintenance.querySettings,{params:e}).then(Object(n["a"])(t,a)).catch((function(e){console.error(e)}))},saveSettings:function(e,t,a){o.a.post(c["g"].maintenance.saveSettings,e).then(Object(n["a"])(t,a)).catch((function(e){console.error(e)}))},queryMemberNameList:function(e,t,a){o.a.get(c["g"].maintenance.queryMemberNameList,{params:e}).then(Object(n["a"])(t,a)).catch((function(e){console.error(e)}))},queryPlateNameList:function(e,t,a){o.a.get(c["g"].maintenance.queryPlateNameList,{params:e}).then(Object(n["a"])(t,a)).catch((function(e){console.error(e)}))},queryKpiReport:function(e,t,a){o.a.get(c["g"].maintenance.queryKpiReport,{params:e}).then(Object(n["a"])(t,a)).catch((function(e){console.error(e)}))}}},ec95:function(e,t,a){"use strict";var n=a("ed52"),i=a.n(n);i.a},ed52:function(e,t,a){}}]);