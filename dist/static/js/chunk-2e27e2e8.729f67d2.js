(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e27e2e8"],{"19ed":function(e,s,n){},"515a":function(e,s,n){"use strict";n.r(s);var t=function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("biz-grid",{staticClass:"message-mgmt-settings"},[n("biz-header",{attrs:{slot:"top",operations:e.operations},on:{operate:e.operate},slot:"top"}),n("div",{staticClass:"checkbox-area"},[e.carMessage.length>0?n("el-checkbox",{staticClass:"msgTitle",attrs:{indeterminate:e.isIndeterminateCar},on:{change:e.handleCheckAllChangeCar},model:{value:e.checkAllCar,callback:function(s){e.checkAllCar=s},expression:"checkAllCar"}},[e._v("车辆消息")]):e._e(),n("el-checkbox-group",{on:{change:e.handleCheckedCarChange},model:{value:e.carMsgSwitch,callback:function(s){e.carMsgSwitch=s},expression:"carMsgSwitch"}},e._l(e.carMessage,(function(s){return n("el-checkbox",{key:s.index,attrs:{label:s.type}},[e._v(e._s(s.name))])})),1),e.serviceMessage.length>0?n("el-checkbox",{staticClass:"msgTitle",attrs:{indeterminate:e.isIndeterminateService},on:{change:e.handleCheckAllChangeService},model:{value:e.checkAllService,callback:function(s){e.checkAllService=s},expression:"checkAllService"}},[e._v("服务消息")]):e._e(),n("el-checkbox-group",{on:{change:e.handleCheckedServiceChange},model:{value:e.serviceMsgSwitch,callback:function(s){e.serviceMsgSwitch=s},expression:"serviceMsgSwitch"}},e._l(e.serviceMessage,(function(s){return n("el-checkbox",{key:s.index,attrs:{label:s.type}},[e._v(e._s(s.name))])})),1),e.communityMessage.length>0?n("el-checkbox",{staticClass:"msgTitle",attrs:{indeterminate:e.isIndeterminateCommunity},on:{change:e.handleCheckAllChangeCommunity},model:{value:e.checkAllCommunity,callback:function(s){e.checkAllCommunity=s},expression:"checkAllCommunity"}},[e._v("社区消息")]):e._e(),n("el-checkbox-group",{on:{change:e.handleCheckedCommunityChange},model:{value:e.communityMsgSwitch,callback:function(s){e.communityMsgSwitch=s},expression:"communityMsgSwitch"}},e._l(e.communityMessage,(function(s){return n("el-checkbox",{key:s.index,attrs:{label:s.type}},[e._v(e._s(s.name))])})),1),e.systemMessage.length>0?n("el-checkbox",{staticClass:"msgTitle",attrs:{indeterminate:e.isIndeterminateSystem},on:{change:e.handleCheckAllChangeSystem},model:{value:e.checkAllSystem,callback:function(s){e.checkAllSystem=s},expression:"checkAllSystem"}},[e._v("系统消息")]):e._e(),n("el-checkbox-group",{on:{change:e.handleCheckedSystemChange},model:{value:e.systemMsgSwitch,callback:function(s){e.systemMsgSwitch=s},expression:"systemMsgSwitch"}},e._l(e.systemMessage,(function(s){return n("el-checkbox",{key:s.index,attrs:{label:s.type}},[e._v(e._s(s.name))])})),1),e.pendingMessage.length>0?n("el-checkbox",{staticClass:"msgTitle",attrs:{indeterminate:e.isIndeterminatePending},on:{change:e.handleCheckAllChangePending},model:{value:e.checkAllPending,callback:function(s){e.checkAllPending=s},expression:"checkAllPending"}},[e._v("待办消息")]):e._e(),n("el-checkbox-group",{on:{change:e.handleCheckedPendingChange},model:{value:e.pendingMsgSwitch,callback:function(s){e.pendingMsgSwitch=s},expression:"pendingMsgSwitch"}},e._l(e.pendingMessage,(function(s){return n("el-checkbox",{key:s.index,attrs:{label:s.type}},[e._v(e._s(s.name))])})),1)],1)],1)},c=[],i=(n("99af"),n("4160"),n("caad"),n("d81d"),n("2532"),n("159b"),n("f36f")),a=n("04d3"),h=n("c596"),l=n("1ab1"),g={name:"MessageMgmtSettings",data:function(){return{operations:[{label:"保存",name:"save",type:"primary"}],switchData:{},carMsgSwitch:[],serviceMsgSwitch:[],communityMsgSwitch:[],systemMsgSwitch:[],pendingMsgSwitch:[],isIndeterminateCar:!1,checkAllCar:!1,isIndeterminatePending:!1,checkAllPending:!1,isIndeterminateService:!1,checkAllService:!1,isIndeterminateCommunity:!1,checkAllCommunity:!1,isIndeterminateSystem:!1,checkAllSystem:!1,carMessage:[],serviceMessage:[],communityMessage:[],systemMessage:[],pendingMessage:[]}},computed:{},components:{BizGrid:i["a"],BizHeader:a["d"]},methods:{operate:function(e){this[e]()},handleCheckAllChangeCar:function(e){console.log(121),this.carMsgSwitch=e?this.carMessage.map((function(e){return e.type})):[],this.isIndeterminateCar=!1},handleCheckedCarChange:function(e){console.log(123);var s=e.length;this.checkAllCar=s===this.carMessage.length,this.isIndeterminateCar=s>0&&s<this.carMessage.length},handleCheckAllChangeService:function(e){console.log(121),this.serviceMsgSwitch=e?this.serviceMessage.map((function(e){return e.type})):[],this.isIndeterminateService=!1},handleCheckedServiceChange:function(e){console.log(123);var s=e.length;this.checkAllService=s===this.serviceMessage.length,this.isIndeterminateService=s>0&&s<this.serviceMessage.length},handleCheckAllChangeCommunity:function(e){console.log(121),this.communityMsgSwitch=e?this.communityMessage.map((function(e){return e.type})):[],this.isIndeterminateCommunity=!1},handleCheckedCommunityChange:function(e){console.log(123);var s=e.length;this.checkAllCommunity=s===this.communityMessage.length,this.isIndeterminateCommunity=s>0&&s<this.communityMessage.length},handleCheckAllChangeSystem:function(e){console.log(121),this.systemMsgSwitch=e?this.systemMessage.map((function(e){return e.type})):[],this.isIndeterminateSystem=!1},handleCheckedSystemChange:function(e){console.log(123);var s=e.length;this.checkAllSystem=s===this.systemMessage.length,this.isIndeterminateSystem=s>0&&s<this.systemMessage.length},handleCheckAllChangePending:function(e){console.log(121),this.pendingMsgSwitch=e?this.pendingMessage.map((function(e){return e.type})):[],this.isIndeterminatePending=!1},handleCheckedPendingChange:function(e){console.log(123);var s=e.length;this.checkAllPending=s===this.pendingMessage.length,this.isIndeterminatePending=s>0&&s<this.pendingMessage.length},refresh:function(){var e=this;l["a"].get(h["q"].settings,{}).then((function(s){e.carMessage=[],e.serviceMessage=[],e.communityMessage=[],e.systemMessage=[],e.pendingMessage=[],e.carMsgSwitch=[],e.serviceMsgSwitch=[],e.communityMsgSwitch=[],e.systemMsgSwitch=[],e.pendingMsgSwitch=[],s.messageSwitchDatas.forEach((function(s){"car"===s.category?(e.carMessage.push(s),"1"===s.isChecked&&e.carMsgSwitch.push(s.type)):"service"===s.category?(e.serviceMessage.push(s),"1"===s.isChecked&&e.serviceMsgSwitch.push(s.type)):"community"===s.category?(e.communityMessage.push(s),"1"===s.isChecked&&e.communityMsgSwitch.push(s.type)):"system"===s.category?(e.systemMessage.push(s),"1"===s.isChecked&&e.systemMsgSwitch.push(s.type)):"pendingRemind"===s.category&&(e.pendingMessage.push(s),"1"===s.isChecked&&e.pendingMsgSwitch.push(s.type)),e.handleCheckedCarChange(e.carMsgSwitch),e.handleCheckedServiceChange(e.serviceMessage),e.handleCheckedCommunityChange(e.communityMessage),e.handleCheckedSystemChange(e.systemMessage),e.handleCheckedPendingChange(e.pendingMessage)}))})).catch((function(s){e.$message.warning(s.errorMessage)}))},save:function(){var e=this;console.log(this.carMsgSwitch),this.carMessage.map((function(s){e.carMsgSwitch.includes(s.type)?s.isChecked="1":s.isChecked="0"})),this.serviceMessage.map((function(s){e.serviceMsgSwitch.includes(s.type)?s.isChecked="1":s.isChecked="0"})),this.communityMessage.map((function(s){e.communityMsgSwitch.includes(s.type)?s.isChecked="1":s.isChecked="0"})),this.systemMessage.map((function(s){e.systemMsgSwitch.includes(s.type)?s.isChecked="1":s.isChecked="0"})),this.pendingMessage.map((function(s){e.pendingMsgSwitch.includes(s.type)?s.isChecked="1":s.isChecked="0"}));var s=this.carMessage.concat(this.serviceMessage).concat(this.communityMessage).concat(this.systemMessage).concat(this.pendingMessage);l["a"].post(h["q"].settings,s).then((function(s){e.$message.success("操作成功"),e.refresh()})).catch((function(s){e.$message.warning(s.errorMessage)}))},showMessage:function(e,s){this.$message({message:e,type:s,duration:"1000",showClose:!0})}},mounted:function(){this.refresh()}},o=g,r=(n("c8f1"),n("2877")),m=Object(r["a"])(o,t,c,!1,null,null,null);s["default"]=m.exports},c8f1:function(e,s,n){"use strict";var t=n("19ed"),c=n.n(t);c.a}}]);