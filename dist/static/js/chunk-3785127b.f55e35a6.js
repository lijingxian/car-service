(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3785127b"],{5118:function(e,t,n){(function(e){var a="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("6017"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("c8ba"))},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var a=n("1d80"),i=n("5899"),o="["+i+"]",r=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),l=function(e){return function(t){var n=String(a(t));return 1&e&&(n=n.replace(r,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},"5b8e":function(e,t,n){"use strict";var a=n("9678"),i=n.n(a);i.a},6017:function(e,t,n){(function(e,t){(function(e,n){"use strict";if(!e.setImmediate){var a,i=1,o={},r=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?f():m()?h():e.MessageChannel?v():s&&"onreadystatechange"in s.createElement("script")?g():b(),l.setImmediate=c,l.clearImmediate=u}function c(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return o[i]=r,a(i),i++}function u(e){delete o[e]}function d(e){var t=e.callback,a=e.args;switch(a.length){case 0:t();break;case 1:t(a[0]);break;case 2:t(a[0],a[1]);break;case 3:t(a[0],a[1],a[2]);break;default:t.apply(n,a);break}}function p(e){if(r)setTimeout(p,0,e);else{var t=o[e];if(t){r=!0;try{d(t)}finally{u(e),r=!1}}}}function f(){a=function(e){t.nextTick((function(){p(e)}))}}function m(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function h(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&p(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),a=function(n){e.postMessage(t+n,"*")}}function v(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;p(t)},a=function(t){e.port2.postMessage(t)}}function g(){var e=s.documentElement;a=function(t){var n=s.createElement("script");n.onreadystatechange=function(){p(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function b(){a=function(e){setTimeout(p,0,e)}}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n("c8ba"),n("4362"))},"62b5c":function(e,t,n){},7132:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"biz-fade-t"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"biz-popup",on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[n("transition",{attrs:{name:"biz-fade-t-right"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"popup-content",style:e.contentStyle},[e._t("default")],2)])],1)])},i=[],o={name:"BizPopup",props:{open:{type:Boolean,default:function(){return!1}},contentStyle:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{close:function(){this.$emit("close")}}},r=o,s=(n("5b8e"),n("2877")),l=Object(s["a"])(r,a,i,!1,null,null,null),c=l.exports,u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"biz-popup-tabs"},[n("biz-popup",{attrs:{open:e.open,contentStyle:e.contentStyle},on:{close:e.close}},[n("el-tabs",{attrs:{type:"border-card",value:e.value},on:{"tab-click":e.tabClick}},[e._t("default")],2)],1)],1)},d=[],p=(n("b0c0"),{name:"BizPopupTabs",data:function(){return{}},props:{open:{type:Boolean,default:!1},value:{type:String,required:!0},contentStyle:{type:Object,default:function(){return{}}}},components:{BizPopup:c},methods:{close:function(){var e=this;this.$confirm("是否保存当前页面?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$emit("close")}))},tabClick:function(e){this.$emit("input",e.name)}}}),f=p,m=(n("d4c2"),Object(s["a"])(f,u,d,!1,null,null,null)),h=m.exports;n.d(t,"a",(function(){return h}))},"7e59":function(e,t,n){},"7faf":function(e,t,n){"use strict";var a=n("62b5c"),i=n.n(a);i.a},9678:function(e,t,n){},"98c4":function(e,t,n){},a9e3:function(e,t,n){"use strict";var a=n("83ab"),i=n("da84"),o=n("94ca"),r=n("6eeb"),s=n("5135"),l=n("c6b6"),c=n("7156"),u=n("c04e"),d=n("d039"),p=n("7c73"),f=n("241c").f,m=n("06cf").f,h=n("9bf2").f,v=n("58a8").trim,g="Number",b=i[g],y=b.prototype,w=l(p(y))==g,_=function(e){var t,n,a,i,o,r,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=v(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+c}for(o=c.slice(2),r=o.length,s=0;s<r;s++)if(l=o.charCodeAt(s),l<48||l>i)return NaN;return parseInt(o,a)}return+c};if(o(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var S,I=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof I&&(w?d((function(){y.valueOf.call(n)})):l(n)!=g)?c(new b(_(t)),n,I):_(t)},N=a?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;N.length>T;T++)s(b,S=N[T])&&!s(I,S)&&h(I,S,m(b,S));I.prototype=y,y.constructor=I,r(i,g,I)}},ace6:function(e,t,n){"use strict";var a=n("98c4"),i=n.n(a);i.a},b1e4:function(e,t,n){},b9d7:function(e,t,n){"use strict";var a=n("b1e4"),i=n.n(a);i.a},d4c2:function(e,t,n){"use strict";var a=n("e725"),i=n.n(a);i.a},d998:function(e,t,n){"use strict";var a=n("7e59"),i=n.n(a);i.a},e725:function(e,t,n){},eec2:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"screen-mgmt"},[n("biz-flex-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{operations:e.operations,tableData:e.tableData,filters:e.filters,pagination:e.pagination},on:{operate:e.operate,"row-click":e.rowClick,"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[n("el-table-column",{attrs:{prop:"name",label:"名称"}}),n("el-table-column",{attrs:{prop:"type",label:"类别"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"biz-customcol"},[e._v(" "+e._s("0"===t.row.type?"智能到店":"1"===t.row.type?"透明车间":"品宣视频")+" ")])]}}])}),n("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(n){return n.stopPropagation(),e.deleteRow(t.row.id)}}},[e._v("删除")])]}}])})],1),n("biz-popup-tabs",{attrs:{open:e.openPopup},on:{close:function(t){e.openPopup=!1}},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[n("el-tab-pane",{attrs:{label:"基本信息",name:"baseinfo"}},[n("BaseInfo",{ref:"baseinfo",attrs:{open:e.openPopup,id:e.itemId},on:{created:e.refresh}})],1)],1)],1)},i=[],o=(n("a9e3"),n("b85c")),r=n("04d3"),s=n("7132"),l=n("1ab1"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("biz-grid",{staticClass:"base-info-screen"},[n("biz-save-button",{attrs:{slot:"top",operations:e.operations},on:{operate:e.operate},slot:"top"}),n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"130px",size:"small"}},[n("el-form-item",{attrs:{label:"投屏名称",prop:"name"}},[n("el-input",{attrs:{placeholder:"智能到店售后展示"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"类别",prop:"type"}},[n("el-radio",{attrs:{label:"0"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[e._v("智能到店")])],1),n("el-form-item",{attrs:{label:"播报内容",prop:"content"}},[n("el-input",{attrs:{placeholder:"<车牌号><会员等级>车主到店，请<顾问姓名>顾问前往接待",type:"textarea"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),n("el-form-item",{attrs:{label:"播放页面时间",prop:"duration"}},[n("div",{staticStyle:{float:"right"},attrs:{slot:"label"},slot:"label"},[e._v(" 播放页面时间 "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:time",arg:"time"}],attrs:{type:"text",size:"small"}},[n("i",{staticClass:"iconfont el-icon-question"})]),n("el-popover",{ref:"time",attrs:{placement:"bottom-start",width:"300",trigger:"hover"}},[e._v(" 客户车辆到店后，电视播放页面停留时间 ")])],1),n("el-input",{model:{value:e.form.duration,callback:function(t){e.$set(e.form,"duration",t)},expression:"form.duration"}},[n("template",{slot:"append"},[e._v("秒")])],2)],1),n("el-form-item",{attrs:{label:"空闲播放视频",prop:"videos"}},[n("div",{staticStyle:{float:"right"},attrs:{slot:"label"},slot:"label"},[e._v(" 空闲播放视频 "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:videos",arg:"videos"}],attrs:{type:"text",size:"small"}},[n("i",{staticClass:"iconfont el-icon-question"})]),n("el-popover",{ref:"videos",attrs:{placement:"bottom-start",width:"300",trigger:"hover"}},[e._v(" 无客户到店时，电视屏幕轮播的视频内容 ")])],1),n("BizVideoUploadName",{on:{handleSuccess:e.handleSuccess},model:{value:e.form.videos,callback:function(t){e.$set(e.form,"videos",t)},expression:"form.videos"}})],1),e.id?n("el-form-item",{attrs:{label:"电视投屏",prop:"url"}},[n("div",{staticStyle:{float:"right"},attrs:{slot:"label"},slot:"label"},[e._v(" 电视投屏 "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:UnionType",arg:"UnionType"}],attrs:{type:"text",size:"small"}},[n("i",{staticClass:"iconfont el-icon-question"})]),n("el-popover",{ref:"UnionType",attrs:{placement:"bottom-start",width:"300",trigger:"hover"}},[e._v(" 将当前屏幕展示内容分屏至电视屏幕上 ")])],1),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.play}},[e._v("全屏播放")])],1):e._e()],1),n("el-dialog",{attrs:{title:"",visible:e.dialogVisibleScreen,"append-to-body":"",fullscreen:!0,"custom-class":"fullScreen-dialog"},on:{"update:visible":function(t){e.dialogVisibleScreen=t},close:e.closed}},[n("full-screen",{ref:"fullscreen",attrs:{video:e.form.videos,itemId:e.form.id,duration:e.form.duration,content:e.form.content,open:e.dialogVisibleScreen}})],1)],1)},u=[],d=n("5530"),p=n("8330"),f=n("f36f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("biz-grid",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"full-screen-dialog"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showScreen,expression:"showScreen"}],staticClass:"content"},[n("div",{staticClass:"left"},[n("div",{staticClass:"left_content"},[n("span",[e._v(e._s(e.date?e.date.split(" ")[1]:""))]),n("span",[e._v(e._s(e.plateNumber)+" "+e._s(e.rank)+" "+e._s(e.name)+" 到店")]),n("span",[e._v("请顾问 "+e._s(e.adminName)+" 前往接待")])])]),n("div",{staticClass:"right"},[e.date?n("div",{staticClass:"top"},[e._v(" "+e._s(e.date.split(" ")[0].split("-")[0])+"年"+e._s(e.date.split(" ")[0].split("-")[1])+"月"+e._s(e.date.split(" ")[0].split("-")[2])+"日 "+e._s(e.date.split(" ")[1]))]):e._e(),n("div",{staticClass:"center"},[n("span",[e._v(e._s(e.plateNumber)+" "+e._s(e.rank)+" "+e._s(e.name)+" 到店")]),n("span",[e._v("请顾问 "+e._s(e.adminName)+" 前往接待")])]),n("div",{staticClass:"img"},[n("img",{attrs:{src:e.image}})])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.showScreen,expression:"!showScreen"}],attrs:{align:"center"}},[e.showVideo?n("video",{attrs:{id:"myvideo",height:"auto",controls:"controls",autoplay:""}},[e._v(" 你的浏览器不支持HTML5播放此视频 "),n("source",{attrs:{src:e.video[0].path,type:"video/mp4"}})]):e._e()])])},h=[],v=(n("b0c0"),n("ac1f"),n("5319"),n("2f62")),g=n("5118"),b={name:"MemberBaseInfo",props:{itemId:{type:String},duration:{type:String},content:{type:String},video:{type:Array},open:{type:Boolean,default:function(){return!1}}},components:{BizGrid:f["a"]},data:function(){return{curr:1,isOpen:!1,loading:!1,dialogVisible:!1,fullscreen:!1,showScreen:!1,showVideo:!0,plateNumber:"",name:"",date:"",rank:"",image:"",adminName:"",t:""}},created:function(){},watch:{"screenData.id":function(e,t){if(console.log("id"+e),e&&e!==t){window.clearTimeout(this.t);var n=this;Object(g["setTimeout"])((function(){n.query(e),n.showScreen=!0}),3e3),this.t=Object(g["setTimeout"])((function(){n.showScreen=!1}),this.duration)}},open:function(e,t){if(console.log(111),console.log(this.video),e)this.showScreen=!1,this.showVideo=!0,this.$nextTick((function(){var e=document.getElementById("myvideo");e.play()}));else{var n=document.getElementById("myvideo");n.pause(),this.showVideo=!1}}},mounted:function(){var e=this;this.$nextTick((function(){var t=e,n=document.getElementById("myvideo");n.addEventListener("ended",(function(){t.play()}))}))},computed:Object(d["a"])(Object(d["a"])({},Object(v["c"])("Screen",["screenData"])),{},{isScreenData:function(){return console.log("监听数据"+this.screenData.id),this.screenData?this.screenData.id:""}}),methods:Object(d["a"])(Object(d["a"])({},Object(v["d"])("Screen",["updateScreenData"])),{},{play:function(){var e=document.getElementById("myvideo");this.video.length>1&&(e.src=this.video[this.curr].path),e.load(),e.play(),this.curr++,this.curr>=this.video.length&&(this.curr=0)},query:function(e){var t=this;l["a"].get("/admin/intelligent/edit.jhtml",{id:e}).then((function(e){t.plateNumber=e.data.plateNumber,t.name=e.data.member?e.data.member.name:"",t.rank=e.data.member?e.data.member.rank:"",t.date=e.data.accessTime,t.image=e.data.accessImage,t.adminName=e.data.adminName;var n=t.content.replace("(","").replace(")","").replace("车牌",e.data.plateNumber).replace("等级",e.data.member?e.data.member.rank:"").replace("会员姓名",e.data.adminName),a="http://tts.baidu.com/text2audio?lan=zh&ie=UTF-8&text="+encodeURI(n),i=new Audio(a);i.src=a,i.play()})).catch((function(e){t.$message.warning(e.errorMessage)}))}})},y=b,w=(n("ace6"),n("2877")),_=Object(w["a"])(y,m,h,!1,null,null,null),S=_.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"product-video-uploader"},[n("el-upload",{attrs:{accept:"application/zip,video/*",name:"file",action:e.uploadAction,data:e.uploadData,"file-list":e.fileList,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"on-error":e.handleError,"before-upload":e.beforeAvatarUpload,disabled:e.disabled,limit:5}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)},N=[],T=(n("99af"),n("c975"),n("d81d"),n("a434"),{data:function(){return{preview:!0,loading:!1,fileList:[],url:""}},props:{isTestDrive:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},productId:String,open:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}}},watch:{open:function(e){e||(this.url="",this.preview=!0)},value:function(e,t){console.log("value: ",this.value),this.fileList=e.map((function(e){return{name:e.name,url:e.url}}))}},computed:{uploadAction:function(){return"/admin/file/uploads.jhtml"},uploadData:function(){return{type:"2"}}},methods:{handlePreview:function(){var e=this;!0===this.preview?(this.url=this.getFilePath(),setTimeout((function(){e.preview=!1}),800)):(this.url="",this.preview=!0)},handleRemove:function(e,t){var n=this.value;console.log(e);for(var a=0;a<n.length;a++)n[a].name===e.name&&n.splice(a,1);this.$emit("input",n),this.url="",this.preview=!0},handleSuccess:function(e){this.$set(e.fis[0],"path",e.fis[0].url),this.$emit("input",this.value.concat(e.fis)),this.$emit("handleSuccess"),this.url="",this.preview=!0},beforeAvatarUpload:function(e){var t=/^video\/(.*)$/.test(e.type);return t||this.$message.error("请选择符合视频格式的文件上传!"),t},handleError:function(e,t,n){e?this.$message.warning(e):this.$message.warning("发生错误")},hasFile:function(){return 0!==this.fileList.length},getFilePath:function(){if(0!==this.fileList.length){var e=this.fileList[0].url.indexOf("/upload/");if(-1===e)return console.log("文件路径错误",this.fileList[0].url),"";var t=location.protocol+"//"+location.host,n=this.fileList[0].url.substr(e),a=t+n;return console.log("src",a),a}return""}}}),$=T,x=(n("d998"),Object(w["a"])($,I,N,!1,null,null,null)),k=x.exports,z={name:"BaseInfo",data:function(){var e=this;return{loading:!1,dialogVisibleScreen:!1,open:!1,list:[],operations:[{label:"保存",name:"save",type:"primary"}],form:{store:"",id:"",type:"0",name:"",content:"",duration:"",videos:[]},rules:{name:[{required:!0,message:"请输入投屏名称",trigger:"blur"}],type:[{required:!0,message:"请选择类别",trigger:"blur"}],content:[{required:!0,message:"请输入播报内容",trigger:"blur"}],duration:[{required:!0,message:"请输入播放页面时间",trigger:"blur"},{pattern:/^[0-9]*$/,message:"时间格式错误",trigger:"blur"}],videos:[{required:!0,message:"请上传空闲播放视频",trigger:"blur"},{trigger:"blur",validator:function(t,n,a){e.form.videos.length>0?a():a(new Error("请上传空闲播放视频"))}}]}}},components:{BizSaveButton:p["a"],BizGrid:f["a"],BizVideoUploadName:k,FullScreen:S},props:{id:{type:String,default:""}},watch:{id:function(e,t){this.$refs.form.clearValidate(),e?e!==t&&this.query():this.form=this.getDefaultModel()}},created:function(){},computed:Object(d["a"])({},Object(v["c"])(["getUser"])),methods:{operate:function(e){this[e]()},handleSuccess:function(){this.$refs.form.clearValidate("videos")},getDefaultModel:function(){return{store:this.getUser.shop.id,id:"",type:"0",name:"",content:"",duration:"",videos:[]}},closed:function(){this.dialogVisibleScreen=!1},play:function(){this.form.videos.length>0?this.dialogVisibleScreen=!0:this.$message.warning("请上传视频")},save:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return!1;e.form.store=e.getUser.shop.id,e.id?e.update():e.create()}))},query:function(){var e=this,t={id:this.id};l["a"].get("/admin/advertising/advertising.jhtml",t).then((function(t){e.form=Object.assign(e.getDefaultModel(),t.data)})).catch((function(t){e.$message.warning(t.errorMessage)}))},create:function(){var e=this;l["a"].post("/admin/advertising/advertising.jhtml",this.form).then((function(t){e.$message.success("保存成功"),e.$emit("created")})).catch((function(t){e.$message.warning(t.errorMessage)}))},update:function(){var e=this;l["a"].put("/admin/advertising/advertising.jhtml",this.form).then((function(t){e.$message.success("更新成功"),e.$emit("created")})).catch((function(t){e.$message.warning(t.errorMessage)}))}}},C=z,E=(n("b9d7"),Object(w["a"])(C,c,u,!1,null,null,null)),j=E.exports,O={name:"WechatUrlMgmt",data:function(){return{loading:!1,openPopup:!1,itemId:"",tabName:"baseinfo",multipleSelection:[],filters:[],operations:[{label:"添加",name:"add",type:"primary"},{disabled:!0,label:"删除",name:"deleteList",type:""},{label:"刷新",name:"refresh",type:""}],tableData:[],pagination:{pageSize:20,currentPage:1,pageSizes:[10,20,50,100],total:0}}},components:{BizFlexTable:r["c"],BaseInfo:j,BizPopupTabs:s["a"]},created:function(){this.refresh()},mounted:function(){},methods:{operate:function(e){this[e]()},refresh:function(){this.openPopup=!1,this.getList()},getList:function(){var e=this,t={pageNumber:this.pagination.currentPage,pageSize:this.pagination.pageSize};l["a"].get("/admin/advertising/advertisings.jhtml",t).then((function(t){e.tableData=t.dataList,e.pagination.total=Number(t.total)})).catch((function(t){e.$message.warning(t.errorMessage)}))},deleteList:function(){var e,t=[],n=Object(o["a"])(this.multipleSelection);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(a.id)}}catch(i){n.e(i)}finally{n.f()}this.delete(t)},deleteRow:function(e){var t=[];t.push(e),this.delete(t)},delete:function(e){var t=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n={ids:e};l["a"].delete("/admin/advertising/advertising.jhtml",n).then((function(e){t.$message.success("删除成功"),t.refresh()})).catch((function(e){t.$message.warning(e.errorMessage)}))})).catch((function(){}))},add:function(){this.itemId="",this.openPopup=!0},handleSelectionChange:function(e){this.operations[1].disabled=!0,e.length>0&&(this.operations[1].disabled=!1),this.multipleSelection=e},handleSizeChange:function(e){this.pagination.pageSize=e,this.refresh()},handleCurrentChange:function(e){this.pagination.currentPage=e,this.refresh()},rowClick:function(e){this.openPopup=!0,this.itemId=e.id},closePopup:function(){this.openPopup=!1,this.itemId=""},addSuccess:function(e){this.itemId=e}}},B=O,P=(n("7faf"),Object(w["a"])(B,a,i,!1,null,null,null));t["default"]=P.exports}}]);